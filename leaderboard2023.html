
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="refresh" content="35">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
      <title>winter 2023</title>
      <meta content="Bryan M" name="author" />
      <link href="favicon.ico" rel="icon" type="image/x-icon" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <link href='https://fonts.googleapis.com/css?family=Kalam' rel='stylesheet'>
<style>

* {
    margin: 0;
    padding: 0;
    
    
}
body {
       color: white;
      background-color: darkSlateGray;
      font-family: Arial, Helvetica, sans-serif;
      overflow-y: hidden;
    
    
    
    
}

.holder {
    width: 100vw;
    height:100vh;
    position:relative;
    overflow: hidden;
}
.bar {
    position:absolute;
    top:20%;
    left:auto;
    width:100%;
    height:100%;
    background-color: white;
    text-align: center;
    font-size: 18px;
    color: black;
    font-family: 'Kalam';
    }
 .barbottom {
    position:absolute;
    bottom:0;
    left:0;
    width:100%;
    height:30px;
    background-color: white;
    }
   #spin {
    text-align: center;
   }
   
   
   
   #test {
   font-size: 20px;
   }
   
   
   
   
     .grid-container {
      display: grid;
      grid-template-columns: 15vw auto 15vw 15vw;
  //    height: 15vh; //100vh;
  
  padding-left: 20px;
  //padding-right: 200px;

  
    }
   
  
    .grid-item {
    //  background-color: lightCyan;
      padding: 2px;
      font-family: arial;
      font-size: 15px; //2vmin;
      text-align: left;
      //border: 1px solid lightGray;
       //  height: 22vmin;
    }
   
     .grid-item-top {
        display: grid;
        grid-column: 1 / 5;
        
        
           padding: 2px;
      font-family: arial;
      font-size: 15px; //2vmin;
      text-align: left;
        
        
        
        
   }
   
   
   
   
   #spinner {
   display: none;
   }
   
   #leaderlist {
   animation: fadein 3s linear forwards;
  // animation: fadeout 4s linear forwards;
   }
   
   
   
   @keyframes fadein{

0% { opacity: 0.0; }

100% { opacity: 1.0; }

}

 

</style>
<body>

<div id="spinner"><img src="throbber.gif" height="100px" width="100px"></img></div>
 <div class="grid-container" id="leaderlist">

    <div class="grid-item-top" id="comp">competition</div>

    <div class="grid-item" id="pos">&nbsp;</div>
    <div class="grid-item" id="player">&nbsp;</div>
    <div class="grid-item" id="points">&nbsp;</div>
    <div class="grid-item" id="twos">&nbsp;</div>
     
    <div class="grid-item-top" id="footer">
    <br>These are the latest 'live' results as they come in, updated automatically every 35 seconds. Only testing at the moment.
    </div> 
     
 </div>

</body>
<script>

// page refreshes every 35 seconds
getData()


async function getData() {

var dataStream = await fetch(
  "https://opensheet.elk.sh/1W8j2wAuweR0B0fK8cLJZcb2c6cEiOJimFmKdIMcliw4/Leaderboard"
)

var displaypos = " " + "<br>";
var displayplayer = " " + "<br>";
var displaypoints = " " + "<br>";
var displaytwos = " " + "<br>";

var resultsarray = await dataStream.json();

for (var i = 0; i < resultsarray.length; i++) { 
   // odd number 
   if (i % 2 !== 0) {
  displaypos += '<p style="background-color:#354F4F">' + resultsarray[i].pos + "</p>";
  displayplayer += '<p style="background-color:#354F4F">' + resultsarray[i].player + "</p>";
  displaypoints += '<p style="background-color:#354F4F">' + resultsarray[i].points + "</p>";
  displaytwos += '<p style="background-color:#354F4F">' + resultsarray[i].twos + "</p>";
} else {
  displaypos += resultsarray[i].pos + "<br>";
  displayplayer += resultsarray[i].player + "<br>";
  displaypoints += resultsarray[i].points + "<br>";
  displaytwos += resultsarray[i].twos + "<br>";
}
}

document.getElementById("comp").innerHTML = "Leaderboard for " + resultsarray[0].comp + "<br>"; 

document.getElementById("pos").innerHTML = displaypos; 
document.getElementById("player").innerHTML = displayplayer; 
document.getElementById("points").innerHTML = displaypoints; 
document.getElementById("twos").innerHTML = displaytwos; 



  
}



</script>
</body>
</html>





