<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>score</title>
    <style>
    * {
      box-sizing: border-box;
    }
    
    body {
      margin: 10px;
      font: normal 20px Arial, sans-serif;
      color: blue;
      background: dodgerBlue;
    }
      
    .card td {
	  height: 50px;
    }
      
    .left {
      float: left;
      width: 100%;
    }    
        
    .left th, .left td {
	  background-color: dodgerBlue;
      font-size: 20px;
      color: yellow;
      text-align: center;
    }
      
    .scorebutton, .scorebuttonNC {
      color: white;   
      width: 20vw; 
      height:100%;
      font-size: 20px;
      background: dodgerBlue;
      border-radius: 10px;
      box-shadow: 10px 10px 25px black;
    }

    .scorebutton:hover {
      animate-color 1s forwards;
      -webkit-animation: animate-color 1s forwards;
    }

    @keyframes animate-color {
      0% {background: dodgerBlue;}
      50% {background:cyan;}
      100% {background:dodgerBlue;}
    }
    
    .dropbtn, .dropbtnNC {
      color: white;
      cursor: pointer;
      width: 100%; 
      height:100%;
      font-size: 20px;
      background: dodgerBlue;
      border-radius: 10px;
      box-shadow: 10px 10px 25px black;
    }

    .dropbtn:hover, .dropbtn:focus {
      background-color: cyan;
    }

    .dropdown {
      position: relative;
      display: inline-block;
      width:90%;
      height:100%;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 10px;
      box-shadow: 10px 10px 25px black;
    }

    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    .show {display: block;}     
      
    #submit {
      color: white;
      cursor: pointer;
      width: 100%; 
      height:100%;
      font-size: 30px;
      background: dodgerBlue;
      border-radius: 10px;
      box-shadow: 10px 10px 25px black;   
    }
    
    #countbackbutton {
      color: white;
      cursor: pointer;
      width: 100%; 
      height:200%;
      font-size: 20px;
      background: dodgerBlue;
      border-radius: 10px;
      box-shadow: 10px 10px 25px black;   
    }

	#submit:hover, #numbertens:hover, #numberunits:hover {
      animate-color 1s forwards;
      -webkit-animation: animate-color 1s forwards;
    }
  
    #my-form, #my-response-iframe { 
      display: none; 
	} 
            
    .yellow {
	  font-size: 20px;
	  color: yellow; 	
	}
	  
    #cb1, #cb3, #cb6, #cb9, #cb1txt, #cb3txt, #cb6txt, #cb9txt {
      color: white;
      font-size: 25px;
    }
      
     </style>
    <!--<script src="jquery-3.6.0.min.js" type="text/javascript"></script>-->
    <meta content="score input" name="description">
    <meta content="Bryan M" name="author">
    
    <link href="favicon.ico" rel="icon" type="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js"></script>
  </head>
  <body>     
     
   




<div class="left">
    <table class="card">
	<caption></caption>
	<thead>	
	<tr>
	  <th><br>select player<br><br></th>
      <th></th>  
	</tr>
	</thead>
		
	<tbody>
	
  <tr>
  <td colspan="2">
  <button onclick="myFunction()" class="dropbtn" id="dropbtn">who</button>
  <div id="myDropdown" class="dropdown-content">
     <a id="myLink1" href="#" onclick='dropSelected(this.innerText);return false;'>Graham Airey</a>
     <a id="myLink2" href="#" onclick='dropSelected(this.innerText);return false;'>Dale Aitkenhead</a>
     <a id="myLink3" href="#" onclick='dropSelected(this.innerText);return false;'>Paul Burt</a>
     <a id="myLink4" href="#" onclick='dropSelected(this.innerText);return false;'>Craig Caesar</a>
     <a id="myLink5" href="#" onclick='dropSelected(this.innerText);return false;'>Trevor Charlton</a>
     <a id="myLink6" href="#" onclick='dropSelected(this.innerText);return false;'>Neil Coxon</a>
     <a id="myLink7" href="#" onclick='dropSelected(this.innerText);return false;'>Paul Durance</a>
     <a id="myLink8" href="#" onclick='dropSelected(this.innerText);return false;'>Richard Hedley</a>
     <a id="myLink9" href="#" onclick='dropSelected(this.innerText);return false;'>Clive Herbert</a>
     <a id="myLink10" href="#" onclick='dropSelected(this.innerText);return false;'>Eddie Hicks</a>
     <a id="myLink11" href="#" onclick='dropSelected(this.innerText);return false;'>Peter Holleran</a>
     <a id="myLink12" href="#" onclick='dropSelected(this.innerText);return false;'>Jim Little</a>
     <a id="myLink13" href="#" onclick='dropSelected(this.innerText);return false;'>Bryan Maddison</a>
     <a id="myLink14" href="#" onclick='dropSelected(this.innerText);return false;'>Bob Nicholas</a>
     <a id="myLink15" href="#" onclick='dropSelected(this.innerText);return false;'>Trevor Ord</a>
     <a id="myLink16" href="#" onclick='dropSelected(this.innerText);return false;'>Brian Simpson</a> 
  </div>

  </td>	
  </tr>	

	<tr>
	  <th><br>todays course<br><br></th>
      <th></th>  
	</tr>

	<tr>	
		<td colspan="2" class="xdropdown"><button class="dropbtnNC" id="coursebtn">course</button></td>
	</tr>		

	<tr>
	  <th><br>score<br><br></th>
      <th></th>  
	</tr>	
		
	<tr>
		<td><input type="button" class="scorebutton" id="numbertens" onclick="incrementValueTens()" value="0" /></td>
		<td><input type="button" class="scorebutton" id="numberunits" onclick="incrementValueUnits()" value="0" /></td>
	</tr>
		
	<tr>
	  <th><br>hole<br><br></th>
      <th><br>points<br><br></th>  
	</tr>
		
     <tr>
		<td><input type="button" class="scorebuttonNC" value="10"/></td>
	    <td><input type="button" class="scorebutton"  id="points10" onclick="incrementPoints10(this.id)" value="0" /></td>
	</tr>
	
	<tr>
		<td><input type="button" class="scorebuttonNC" value="11"/></td>
		<td><input type="button" class="scorebutton"  id="points11" onclick="incrementPoints11(this.id)" value="0" /></td>

	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="12"/></td>
		<td><input type="button" class="scorebutton"  id="points12" onclick="incrementPoints12(this.id)" value="0" /></td>
	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="13"/></td>
		<td><input type="button" class="scorebutton"  id="points13" onclick="incrementPoints13(this.id)" value="0" /></td>
	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="14"/></td>
		<td><input type="button" class="scorebutton"  id="points14" onclick="incrementPoints14(this.id)" value="0" /></td>
	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="15"/></td>
		<td><input type="button" class="scorebutton"  id="points15" onclick="incrementPoints15(this.id)" value="0" /></td>
	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="16"/></td>
		<td><input type="button" class="scorebutton"  id="points16" onclick="incrementPoints16(this.id)" value="0" /></td>
	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="17"/></td>
		<td><input type="button" class="scorebutton"  id="points17" onclick="incrementPoints17(this.id)" value="0" /></td>
	</tr>
	<tr>
		<td><input type="button" class="scorebuttonNC" value="18"/></td>
		<td><input type="button" class="scorebutton"  id="points18" onclick="incrementPoints18(this.id)" value="0" /></td>
	</tr>
    
	<tr>
	  <th><br>countback<br><br></th>
      <th><br><br><br></th>  
	</tr>

    <tr>
	<td colspan="2">
	<button id="countbackbutton">
	<div id="countback">

	<span><a id="cb9txt"></a><a id="cb9"></a></span>
	<br>
	<span><a id="cb6txt"></a><a id="cb6"></a></span>
	<br>
	<span><a id="cb3txt"></a><a id="cb3"></a></span>
	<br>
	<span><a id="cb1txt"></a><a id="cb1"></a></span>
	<br>
	</button>
	</td>
	</tr>

    <tr>
	<td colspan="2">
	<button id="submit" onClick="submitForm()">submit</button>
	</td>
	</tr>

	<tbody>
</table>

</div>
.
<br><br><br><br><br>

  
  
<!-- form to construct data prior to submit -->
  
<form action="https://docs.google.com/forms/d/e/1FAIpQLSc1X_7KyyRL_R8S2JDQLC1XMzQvQnVxc3Z1_fuAWRJTnZFiYA/formResponse" id="my-form" method="post" name="my-form" target="my-response-iframe">		
   
   <input id="mx1433824128" name="entry.1433824128" type="text" value="default">
   <input id="mx1119360478" name="entry.1119360478" type="text" value="default">
   <input id="mx1885789242" name="entry.1885789242" type="text" value="default">
   <input id="mx439780374" name="entry.439780374" type="text" value="default">
   <input id="mx1731892801" name="entry.1731892801" type="text" value="default">
   <input id="mx1799374417" name="entry.1799374417" type="text" value="default">
   <input id="mx1078642019" name="entry.1078642019" type="text" value="default">
   <input id="mx1367093928" name="entry.1367093928" type="text" value="default">
   <input id="mx1919880856" name="entry.1919880856" type="text" value="default">
   <input id="mx363883450" name="entry.363883450" type="text" value="default">
   <input id="mx1985545500" name="entry.1985545500" type="text" value="default">
   <input id="mx1948804695" name="entry.1948804695" type="text" value="default">
   <input id="mx1668825208" name="entry.1668825208" type="text" value="default">
   <input id="mx516315870" name="entry.516315870" type="text" value="default">
   <input id="mx1152185005" name="entry.1152185005" type="text" value="default">
   <input id="mx299302373" name="entry.299302373" type="text" value="default">
   <input id="mx513988263" name="entry.513988263" type="text" value="default">
   <input id="mx66792647" name="entry.66792647" type="text" value="default">
   <input id="mx711918828" name="entry.711918828" type="text" value="default">
   <input id="mx1266687629" name="entry.1266687629" type="text" value="default">
   <input id="mx1461956864" name="entry.1461956864" type="text" value="default">
   <input id="mx232205141" name="entry.232205141" type="text" value="default">
   <input id="mx945543300" name="entry.945543300" type="text" value="default">
   <input id="mx1033226812" name="entry.1033226812" type="text" value="default">
   <input id="mx577720568" name="entry.577720568" type="text" value="default">
   <input id="mx2139648342" name="entry.2139648342" type="text" value="default">
   <input id="mx251812117" name="entry.251812117" type="text" value="default">
   <input id="mx718568000" name="entry.718568000" type="text" value="default">
   <input id="mx1391232714" name="entry.1391232714" type="text" value="default">
   <input id="mx42855440" name="entry.42855440" type="text" value="default">
   <input id="mx910512739" name="entry.910512739" type="text" value="default">
   <input id="mx1379318653" name="entry.1379318653" type="text" value="default">
   <input id="mx1263061594" name="entry.1263061594" type="text" value="default">
   <input id="mx1772100943" name="entry.1772100943" type="text" value="default">
   <input id="mx1226203700" name="entry.1226203700" type="text" value="default">
   <input id="mx1800791630" name="entry.1800791630" type="text" value="default">
   <input id="mx1397230483" name="entry.1397230483" type="text" value="default">
   <input id="mx1160102181" name="entry.1160102181" type="text" value="default">
   <input id="mx1942267356" name="entry.1942267356" type="text" value="default">
   <input id="mx625403315" name="entry.625403315" type="text" value="default">
   <input id="mx1925155031" name="entry.1925155031" type="text" value="default">
   <input id="mx452010659" name="entry.452010659" type="text" value="default">
   <input id="mx634266743" name="entry.634266743" type="text" value="default">
   <input id="mx64442179" name="entry.64442179" type="text" value="default">
   <input id="mx83976721" name="entry.83976721" type="text" value="default">
   
   
   <input id="mx1288168418" name="entry.1288168418" type="text" value="default">
   <input id="mx984726337" name="entry.984726337" type="text" value="default">
   <input id="mx1307706252" name="entry.1307706252" type="text" value="default">
   <input id="mx717166862" name="entry.717166862" type="text" value="default">
   
  
   
   <input type="submit">
   
</form>
 
<!-- google forms inserted here - invisible -->   
<iframe height="40" id="my-response-iframe" name="my-response-iframe" src="https://docs.google.com/forms/d/e/1FAIpQLSc1X_7KyyRL_R8S2JDQLC1XMzQvQnVxc3Z1_fuAWRJTnZFiYA/viewform?embedded=true" width="60"></iframe>
   

<div id="submitConfirm"></div><br>
<br>
<br> 
  
  
  
 
   
<script>   
var hcp = "22"  
var player = "player"
var course = "course" 
var dday = "today"  
var cback1 = 0
var cback3 = 0
var cback6 = 0
var cback9 = 0
var rslts = ""
// set course by day of week
var options = {
	       weekday: 'long',
	       day: 'numeric',
	       month: 'long',
	       year: 'numeric'
	   };
const formatter = new Intl.DateTimeFormat('en-GB', options);
const dd = formatter.format(new Date());  
   
// for testing  
if (dd.indexOf("day") > -1) {
   dday = "Monday"
   course = "La Cala - Europa"
   document.getElementById("coursebtn").innerText = course          
}  
   
   
if (dd.indexOf("Tuesday") > -1) {
   dday = "Tuesday"
   course = "Alhaurin"
   document.getElementById("coursebtn").innerText = course
}


if (dd.indexOf("Wednesday") > -1) {
   dday = "Wednesday"
   course = "La Cala - Asia"
   document.getElementById("coursebtn").innerText = course
}


if (dd.indexOf("Thursday") > -1) {  
   dday = "Thursday"
   course = "La Cala - America"
   document.getElementById("coursebtn").innerText = course
}


// --- functions --- // 

var incTens = 0;
var incUnits = 0;
var incpoints10 = 0;
var incpoints11 = 0;
var incpoints12 = 0;
var incpoints13 = 0;
var incpoints14 = 0;
var incpoints15 = 0;
var incpoints16 = 0;
var incpoints17 = 0;
var incpoints18 = 0;

function incrementValueTens() {
if (incTens === 5) {
	incTens = -1
}
    document.getElementById('numbertens').value = ++incTens;
    
}

function incrementValueUnits() {
if (incUnits === 9) {
	incUnits = -1
}
    document.getElementById('numberunits').value = ++incUnits;
}

function incrementPoints10(id) {
if (incpoints10 === 5) {
	incpoints10 = -1
} 
    document.getElementById(id).value = ++incpoints10; 
    calcCbs()
}

function incrementPoints11(id) {
if (incpoints11 === 5) {
	incpoints11 = -1
} 
    document.getElementById(id).value = ++incpoints11;
    calcCbs() 
}
function incrementPoints12(id) {
if (incpoints12 === 5) {
	incpoints12 = -1
} 
    document.getElementById(id).value = ++incpoints12;
    calcCbs() 
}
function incrementPoints13(id) {
if (incpoints13 === 5) {
	incpoints13 = -1
} 
    document.getElementById(id).value = ++incpoints13;
    calcCbs() 
}
function incrementPoints14(id) {
if (incpoints14 === 5) {
	incpoints14 = -1
} 
    document.getElementById(id).value = ++incpoints14;
    calcCbs() 
}
function incrementPoints15(id) {
if (incpoints15 === 5) {
	incpoints15 = -1
} 
    document.getElementById(id).value = ++incpoints15;
    calcCbs() 
}
function incrementPoints16(id) {
if (incpoints16 === 5) {
	incpoints16 = -1
} 
    document.getElementById(id).value = ++incpoints16;
    calcCbs() 
}
function incrementPoints17(id) {
if (incpoints17 === 5) {
	incpoints17 = -1
} 
    document.getElementById(id).value = ++incpoints17;
    calcCbs() 
}
function incrementPoints18(id) {
if (incpoints18 === 5) {
	incpoints18 = -1
} 
    document.getElementById(id).value = ++incpoints18;
    calcCbs() 
}

function calcCbs() {
cb9 = incpoints10+incpoints11+incpoints12+incpoints13+incpoints14+incpoints15+incpoints16+incpoints17+incpoints18	
cb6 = incpoints13+incpoints14+incpoints15+incpoints16+incpoints17+incpoints18	
cb3 = incpoints16+incpoints17+incpoints18	
cb1 = incpoints18	

document.getElementById("cb9txt").innerText = "countback 9 = "
document.getElementById("cb9").innerText = cb9

document.getElementById("cb6txt").innerText = "countback 6 = "
document.getElementById("cb6").innerText = cb6
   
document.getElementById("cb3txt").innerText = "countback 3 = "
document.getElementById("cb3").innerText = cb3
   
document.getElementById("cb1txt").innerText = "countback 1 = "
document.getElementById("cb1").innerText = cb1      

}










function dropSelected(playerName) {
    
   player = playerName
   
  // replace button name
  element = document.getElementById("dropbtn") 
  element.innerText =  player 
  
}


/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}



function submitForm() {
   // get the relevant info into a form
   var playerArray = player.split(" ")   
   var playerPart1 = playerArray[0] + " " + playerArray[1]
   
   // keep track of scores entered  
   rslts="error"
   if (localStorage.getItem("Entries") !== null) {
		rslts = localStorage.getItem("Entries")
		// update with this result
		rslts=rslts + "<p>" + playerPart1 + " " + document.getElementById("pointsFull18").innerText
   + "</p>"
   
   localStorage.setItem("Entries", rslts);
   
 } 
   
   //-- player --
   document.getElementById("mx1433824128").value = playerPart1
   //-- course --
   document.getElementById("mx1119360478").value = course
   //-- hcp --
   document.getElementById("mx1885789242").value = hcp
   
   
   
   
   
      
   
   
   //-- points10 --
   document.getElementById("mx910512739").value = document.getElementById("points10").innerText
   //-- points11 --
   document.getElementById("mx1379318653").value = document.getElementById("points11").innerText
   //-- points12 --
   document.getElementById("mx1263061594").value = document.getElementById("points12").innerText
   //-- points13 --
   document.getElementById("mx1772100943").value = document.getElementById("points13").innerText
   //-- points14 --
   document.getElementById("mx1226203700").value = document.getElementById("points14").innerText
   //-- points15 --
   document.getElementById("mx1800791630").value = document.getElementById("points15").innerText
   //-- points16 --
   document.getElementById("mx1397230483").value = document.getElementById("points16").innerText
   //-- points17 --
   document.getElementById("mx1160102181").value = document.getElementById("points17").innerText
   //-- points18 --
   document.getElementById("mx1942267356").value = document.getElementById("points18").innerText
   
   
   
   //-- scoretotal --
   document.getElementById("mx452010659").value = document.getElementById("full18").innerText
   
   
   
   //-- cback9 --
   document.getElementById("mx1288168418").value = document.getElementById("cb9").innerText
   //-- cback6 --
   document.getElementById("mx984726337").value = document.getElementById("cb6").innerText
   //-- cback3 --
   document.getElementById("mx1307706252").value = document.getElementById("cb3").innerText
   //-- cback1 --
   document.getElementById("mx717166862").value = document.getElementById("points18").innerText
   
// check data is complete 
   var checkBeforeSubmit=0
   var checkBeforeSubmitID=""
   
   //-- player --
   if (document.getElementById("mx1433824128").value == "player undefined") {
	   checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "player" + "\n"
   }
   //-- course --
   if (document.getElementById("mx1119360478").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "course" + "\n"
   }
   //-- hcp --
   if (document.getElementById("mx1885789242").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "hcp" + "\n"
   }
   
   
   //-- points10 --
   if (document.getElementById("mx910512739").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points10" + "\n"
   }
   //-- points11 --
   if (document.getElementById("mx1379318653").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points11" + "\n"
   }
   //-- points12 --
   if (document.getElementById("mx1263061594").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points12" + "\n"
   }
   //-- points13 --
   if (document.getElementById("mx1772100943").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points13" + "\n"
   }
   //-- points14 --
   if (document.getElementById("mx1226203700").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points14" + "\n"
   }
   //-- points15 --
   if (document.getElementById("mx1800791630").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "poihts15" + "\n"
   }
   //-- points16 --
   if (document.getElementById("mx1397230483").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points16" + "\n"
   }
   //-- points17 --
   if (document.getElementById("mx1160102181").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points17" + "\n"
   }
   //-- points18 --
   if (document.getElementById("mx1942267356").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "points18" + "\n"
   }
   
   //-- scoretotal --
   if (document.getElementById("mx452010659").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "scoretotal" + "\n"
   }
   
   //-- cback9 --
   if (document.getElementById("mx1288168418").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "cback9" + "\n"
   }
   //-- cback6 --
   if (document.getElementById("mx984726337").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "cback6" + "\n"
   }
   //-- cback3 --
   if (document.getElementById("mx1307706252").value == "") {
       checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "cback3" + "\n"
   }
   //-- cback1 --
   if (document.getElementById("mx717166862").value == "") {
	   checkBeforeSubmit++
	   checkBeforeSubmitID=checkBeforeSubmitID + "cback1" + "\n"
   }
      
  // submit 
  if (checkBeforeSubmit === 0) {
	document.forms[0].submit() 
  } else {
	alert("entry missing for" + "\n\n" + checkBeforeSubmitID + "\n\n")
  }
  
}  
  
</script>    
</body>
</html>    

  
      
