<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta content="Bryan M" name="author">
      <title>hcp calc</title>
      <link href="favicon.ico" rel="icon" type="image/x-icon">
      <style>
         body {
         margin: 0px;
         padding: 0px;
         width: 100%;
         // margin-left: 1vw;
         // margin-right: 1vw;
         height: 100%;
         background-color: Gray;
         //background-attachment: fixed;
         font-family: 'arial';
         color: white;
         }
         #page {
         //    width: 96vw;
         }
         .stxt {
         text-align: center;
         font-size: 30px;
         //      text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1); 
         }
         h2 {
         text-align: center;
         padding-top: 1%;
         padding-bottom: 1%;
         color: white;
         font-size: 25px;
         border: 3px solid rgba(255, 255, 255, 0.2);
         background-clip: padding-box;
         background-color: rgba(0, 0, 0, 0.2);
         }
         .td1 {
         border-style: solid;
         border-color: greenYellow;
         text-align: center;
         font-size: 20px;
         width: calc(88vw/5);
         }
         .td1pad10 {
         text-align: center;
         font-size: 20px;
         width: 100%; //98vw;
         padding-top: 20px;
         }
         .tr1 {
         text-align: center;
         font-size: 20px;
         width: 100%; //98vw;
         }
         .tr1left {
         text-align: center;
         }
         .td0 {
         padding-top: 100px;
         }
         select {
         border: 0;
         background: gray;
         width: 100%; //100vw;
         -webkit-appearance: none;
         }
         option {
         padding-left: 5px;
         }
         .drop {
         background: gray;
         border: none;
         }
         .sideways {
         font-size: 16px; // 20px;
         writing-mode: vertical-rl;
         text-orientation: mixed;
         padding-top: 10px;
         padding-bottom: 10px;
         text-align: right;
         vertical-align: middle;
         }
         #slidecontainer1,
         #slidecontainer2,
         #slidecontainer3,
         #slidecontainer4 {
         display: none;
         }
         #myRange1,
         #myRange2,
         #myRange3,
         #myRange4
         {
         width: 90%;
         padding-top: 15px;
         }
         #inputcourse1,
         #inputcourse2,
         #inputcourse3,
         #inputcourse4,
    #inputcourse12,
         #inputcourse22,
         #inputcourse32,
         #inputcourse42 
 {
         width: 100%;
         font-size: 20px;
         background: gray;
         color: greenYellow;
         }
         .yellow {
         color: greenYellow;
         }
         .slider {
         -webkit-appearance: none;
         width: 50%;
         height: 2px; //15px;
         background: gray; //dimgray; //#000;
         outline: none;
         border: 3px solid greenYellow;
         border-radius: 8px;
         }
         /* for chrome/safari */
         .slider::-webkit-slider-thumb {
         -webkit-appearance: none;
         appearance: none;
         width: 20px;
         height: 40px;
         background: gray; //dimgray; //#000;
         cursor: pointer;
         border: 3px solid greenYellow;
         border-radius: 4px;
         }
         /* for firefox */
         .slider::-moz-range-thumb {
         width: 20px;
         height: 60px;
         background: gray; //dimgray; //#000;
         cursor: pointer;
         border: 3px solid greenYellow;
         border-radius: 4px;
         }
         #minusicon1,
         #minusicon2,
         #minusicon3,
         #minusicon4
         {
         padding-left: 20px;
         //padding-bottom: 10px;
         //      padding-top: 10px;
         float: left;
         }
         #plusicon1,
         #plusicon2,
         #plusicon3,
         #plusicon4
         {
         padding-right: 20px;
        //padding-bottom: 5px; //10px;
         //     padding-top: 10px;
         float: right;
         }
         #closeicon1,
         #closeicon2,
         #closeicon3,
         #closeicon4
         {
         //padding-right: 20px;
        //padding-bottom: 5px; //10px;
              padding-top: 10px;
         //float: right;
         }
         #dropbtn, #dropbtn2 {
         color: greenYellow;
         cursor: pointer;
         //width: 100%;
         height: 8vh; //10vh;
         font-size: 20px;
         background: gray;
         border-radius: 3px;
         border: none;
         }  
         .dropdown, .dropdown2 {
         position: relative;
         display: inline-block;
         }   
         .dropdown-content, .dropdown-content2 {
         display: none;
         position: absolute;
         background-color: #f1f1f1;
         min-width: 160px;
         overflow: auto;
         box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
         z-index: 1;
         border-radius: 3px;
         box-shadow: 10px 10px 25px black;
         max-height: 70vh;
         }
         .dropdown-content a, .dropdown-content2 a {
         text-align: left;
         color: gray;
         padding: 12px 16px;
         text-decoration: none;
         display: block;
         }
         .dropdown-content a:hover, .dropdown-content2 a:hover {
         color: greenYellow;
         background: gray;
         padding: 12px 16px;
         text-decoration: none;
         display: block;
         }  
         .show {
         display: block;
         }
         #demo1, #demo2, #demo3, #demo4 {
         color: greenYellow;
         font-size:16px;
         }

#xteecolors1, #xteecolors2, #xteecolors3, #xteecolors4 {
display: none;
}

#white1, #white2, #white3, #white4 {
font-size: 20px;
color: blue;
padding-top: 20px;
padding-bottom: 20px;
background: white;
//width: 100%; //33vw; //100%;
//height: 50px;
 border: 3px solid greenYellow;
         //border-radius: 8px;
//float: left;
text-align: center;
}
#yellow1, #yellow2, #yellow3, #yellow4 {
font-size: 20px;
color: blue;
padding-top: 20px;
padding-bottom: 20px;
background: yellow;
//width: 33vw; //100%;
//height: 50px;
 border: 3px solid greenYellow;
        // border-radius: 8px;
//float: left;
text-align: center;
}
#red1, #red2, #red3, #red4 {
font-size: 20px;
color: blue;
padding-top: 20px;
padding-bottom: 20px;
background: red;
//width: 33vw; //100%;
//height: 50px;
 border: 3px solid greenYellow;
         //border-radius: 8px;
//float: right;
text-align: center;
}

#calcs1 {
   font-size: 15px;
   color: white;
   padding-left: 2px;
}
#calcs2 {
   font-size: 15px;
   color: mediumSpringGreen;
   padding-left: 2px;
}
#calcs3 {
   font-size: 15px;
   color: cyan;
   padding-left: 2px;
}
#calcs4 {
   font-size: 15px;
   color: yellow;
   padding-left: 2px;
}
#calcs5 {
   font-size: 15px;
   color: paleGreen;
   padding-left: 2px;
}
      </style>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   </head>
   <body>
      <div class="page" id="page">
         <table class="table">
            <caption></caption>
            <thead>
            </thead>
            <tbody>
               <tr class="tr1">
                  <td class="td1" colspan="5">
                     <div class="mainselection">
                        <div class="wrapper">
                           <button onclick="myFunction();" class="dropbtn" id="dropbtn">select course</button>
                           <div id="myDropdown" class="dropdown-content"> 
                              <a id="inputcourse1" href="#" onclick='dropSelected(this.innerText);return false;'>Longhirst Dawson</a>             
                              <a id="inputcourse2" href="#" onclick='dropSelected(this.innerText);return false;'>Longhirst Lakes</a>           
                                
                           </div>
                        </div>
                     </div>
                  </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
               <tr class="tr1">
                  <td class="td1 sideways">tee</td>
                  <td class="td1 sideways">hcp</td>
                  <td class="td1 sideways">slope</td>
                  <td class="td1 sideways">course<br>rating</td>
                  <td class="td1 sideways">strokes</td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
               <!-- player 1 -->
               <tr>
                  <td colspan="5"></td>
               </tr>

               <tr class="tr1">
                  <td class="td1" id="tee1" onclick='getteecolor(this.id)'>1</td>
                  <td class="td1 yellow" id="p1hcp" onclick="p1hcpadjust()">0</td>
                  <td class="td1" id="p1slope">0</td>
                  <td class="td1" id="p1ci">0</td>
                  <td class="td1" id="p1calchcp">0</td>
               </tr>
<!-- tee colors -->
               <tr class="tr1" id="xteecolors1">
                  <td id="white1" onclick="teecolor(this.id)">white</td>
                  <td id="yellow1" onclick="teecolor(this.id)">yellow</td>
                  <td id="red1" onclick="teecolor(this.id)">red</td>
                  <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer1">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange1">
                        <p><span id="demo1"></span></p>
                        <div class="minusiconcontainer" id="minusicon1"> <img src="minusgreen.png" alt="minus" onclick="minus(1)" style="height: 60px; width: 60px;">
                        </div>
                        <div class="plusiconcontainer" id="plusicon1"> <img src="plusgreen.png" alt="plus" onclick="plus(1)" style="height: 60px; width: 60px;">
                        </div>

                        <div class="closeiconcontainer" id="closeicon1"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer1")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
            </tr>
               <!-- player 2 -->
               <tr>
                  <td colspan="5"></td>
               </tr>
               <tr class="tr1">
                  <td class="td1" id="tee2" onclick='getteecolor(this.id)'>2</td>
                  <td class="td1 yellow" id="p2hcp" onclick="p2hcpadjust()">0</td>
                  <td class="td1" id="p2slope">0</td>
                  <td class="td1" id="p2ci">0</td>
                  <td class="td1" id="p2calchcp">0</td>
               </tr>
<!-- tee colors -->
          <tr  class="tr1" id="xteecolors2">
      <td id="white2" onclick="teecolor(this.id)">white</td>
      <td id="yellow2" onclick="teecolor(this.id)">yellow</td>
      <td id="red2" onclick="teecolor(this.id)">red</td>
      <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer2">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange2">
                        <p><span id="demo2"></span></p>
                        <div class="minusiconcontainer" id="minusicon2"> <img src="minusgreen.png" alt="minus" onclick="minus(2)" style="height: 85px; width: 85px;"> </div>
                        <div class="plusiconcontainer" id="plusicon2"> <img src="plusgreen.png" alt="plus" onclick="plus(2)" style="height: 85px; width: 85px;"> </div>
                     
                        <div class="closeiconcontainer" id="closeicon2"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer2")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>

               <tr class="tr1">
                  <td class="td1" id="tee3" onclick='getteecolor(this.id)'>3</td>
                  <td class="td1 yellow" id="p3hcp" onclick="p3hcpadjust()">0</td>
                  <td class="td1" id="p3slope">0</td>
                  <td class="td1" id="p3ci">0</td>
                  <td class="td1" id="p3calchcp">0</td>
               </tr>
<!-- tee colors -->
          <tr  class="tr1" id="xteecolors3">
      <td id="white3" onclick="teecolor(this.id)">white</td>
      <td id="yellow3" onclick="teecolor(this.id)">yellow</td>
      <td id="red3" onclick="teecolor(this.id)">red</td>
      <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer3">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange3">
                        <p><span id="demo3">course hcp = 33, playing hcp = 32</span></p>
                        <div class="minusiconcontainer" id="minusicon3"> <img src="minusgreen.png" alt="minus" onclick="minus(3)" style="height: 85px; width: 85px;"> </div>
                        <div class="plusiconcontainer" id="plusicon3"> <img src="plusgreen.png" alt="plus" onclick="plus(3)" style="height: 85px; width: 85px;"> </div>
                     
                        <div class="closeiconcontainer" id="closeicon3"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer3")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
               <tr class="tr1">
                  <td class="td1" id="tee4" onclick='getteecolor(this.id)'>4</td>
                  <td class="td1 yellow" id="p4hcp" onclick="p4hcpadjust()">0</td>
                  <td class="td1" id="p4slope">0</td>
                  <td class="td1" id="p4ci">0</td>
                  <td class="td1" id="p4calchcp">0</td>
               </tr>
<!-- tee colors -->
          <tr  class="tr1" id="xteecolors4">
      <td id="white4" onclick="teecolor(this.id)">white</td>
      <td id="yellow4" onclick="teecolor(this.id)">yellow</td>
      <td id="red4" onclick="teecolor(this.id)">red</td>
      <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer4">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange4">
                        <p><span id="demo4">xxxxxxxxxx</span></p>
                        <div class="minusiconcontainer" id="minusicon4"> <img src="minusgreen.png" alt="minus" onclick="minus(4)" style="height: 85px; width: 85px;"> </div>
                        <div class="plusiconcontainer" id="plusicon4"> <img src="plusgreen.png" alt="plus" onclick="plus(4)" style="height: 85px; width: 85px;"> </div>
                     
                        <div class="closeiconcontainer" id="closeicon4"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer4")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
            </tbody>
         </table>
      </div>
      <br>
      <div class="row">
         <div>
            <h2>Stroke calculations for (mixed tees) Pairs Matchplay</h2>
         </div>
      </div>
      <br>
      <div id = "calcs1"></div>
      <div id = "calcs2"></div>
      <div id = "calcs3"></div>
      <div id = "calcs4"></div>
      <div id = "calcs5"></div>
      <br>
      <br>
      <br>
      <script>

   //=== globals =====================
   var globalcourse;
   var globalwhiteslope;
   var globalwhiteci;
   var globalyellowslope;
   var globalyellowci;
   var globalredslope;
   var globalredci;
   var globalplayer1teecolor;
   var globalplayer2teecolor;
   var globalplayer3teecolor;
   var globalplayer4teecolor;

   // array: course, white slope, white index, yellow slope, yellow index, red slope, red index
         var courses = [
             ["select course","","","","","",""],
             ["Longhirst Dawson","120","72.3","120","71.1","121","72.5"],
             ["Longhirst Lakes","121","69.7","116","67.6","117","69.1"]
         ];
         
   // default to Dawson yellow tees
   // player 1
   document.getElementById("p1slope").innerText =  courses[1][3];
   document.getElementById("p1ci").innerText =  courses[1][4];   
      
   document.getElementById("tee1").style.background = "yellow";
   document.getElementById("tee1").style.color = "blue";
        // player 2 
   document.getElementById("p2slope").innerText =  courses[1][3];
   document.getElementById("p2ci").innerText =  courses[1][4];   
      
   document.getElementById("tee2").style.background = "yellow";
   document.getElementById("tee2").style.color = "blue";
   // player 3
   document.getElementById("p3slope").innerText =  courses[1][3];
   document.getElementById("p3ci").innerText =  courses[1][4];   
      
   document.getElementById("tee3").style.background = "yellow";
   document.getElementById("tee3").style.color = "blue";
        // player 2 
   document.getElementById("p4slope").innerText =  courses[1][3];
   document.getElementById("p4ci").innerText =  courses[1][4];   
      
   document.getElementById("tee4").style.background = "yellow";
   document.getElementById("tee4").style.color = "blue";

   document.getElementById("dropbtn").innerText = "Longhirst Dawson";
    
   globalplayer1teecolor = "yellow"     
   globalplayer2teecolor = "yellow" 
   globalplayer3teecolor = "yellow" 
   globalplayer4teecolor = "yellow" 



        // === functions ========================     
        
       //===================================================
       // special function for use in calculations
       // rounds a number to 2 decimal and returns a number
       function roundToTwo(num) {
          return +(Math.round(num + "e+2")  + "e-2");
       }
       //===================================================




         function p1hcpadjust() {
          if (document.getElementById("slidecontainer1").style.display !== "inline") {
            document.getElementById("slidecontainer1").style.display = "inline";
          } else {
            document.getElementById("slidecontainer1").style.display = "none";
          }
         
          document.getElementById("slidecontainer2").style.display = "none";
          document.getElementById("slidecontainer3").style.display = "none";
          document.getElementById("slidecontainer4").style.display = "none";
         
         
         
         
         }
         
         function p2hcpadjust() {
          if (document.getElementById("slidecontainer2").style.display !== "inline") {
            document.getElementById("slidecontainer2").style.display = "inline";
          } else {
            document.getElementById("slidecontainer2").style.display = "none";
          }
         
          document.getElementById("slidecontainer1").style.display = "none";
          document.getElementById("slidecontainer3").style.display = "none";
          document.getElementById("slidecontainer4").style.display = "none";
         }
         
         function p3hcpadjust() {
          if (document.getElementById("slidecontainer3").style.display !== "inline") {
            document.getElementById("slidecontainer3").style.display = "inline";
          } else {
            document.getElementById("slidecontainer3").style.display = "none";
          }
         
          document.getElementById("slidecontainer1").style.display = "none";
          document.getElementById("slidecontainer2").style.display = "none";
          document.getElementById("slidecontainer4").style.display = "none";
         }
         
         function p4hcpadjust() {
          if (document.getElementById("slidecontainer4").style.display !== "inline") {
            document.getElementById("slidecontainer4").style.display = "inline";
          } else {
            document.getElementById("slidecontainer4").style.display = "none";
          }
         
          document.getElementById("slidecontainer1").style.display = "none";
          document.getElementById("slidecontainer2").style.display = "none";
          document.getElementById("slidecontainer3").style.display = "none";
         }
         
         
         
         
         //===== player 1 ===========================================================
         
         var slider1 = document.getElementById("myRange1");
         //var output1 = document.getElementById("demo1");
         //output1.innerHTML = slider1.value; // Display the default slider value
         
         document.getElementById("p1hcp").innerText = slider1.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider1.oninput = function() {
          //output1.innerHTML = Number(slider1.value).toFixed(1);
          document.getElementById("p1hcp").innerText = Number(slider1.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         //===== player 2 ===========================================================
         
         var slider2 = document.getElementById("myRange2");
         //var output2 = document.getElementById("demo2");
         //output1.innerHTML = slider2.value; // Display the default slider value
         
         document.getElementById("p2hcp").innerText = slider2.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider2.oninput = function() {
          //output2.innerHTML = Number(slider2.value).toFixed(1);
          document.getElementById("p2hcp").innerText = Number(slider2.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         //===== player 3 ===========================================================
         
         var slider3 = document.getElementById("myRange3");
         //var output3 = document.getElementById("demo3");
         //output3.innerHTML = slider3.value; // Display the default slider value
         
         document.getElementById("p3hcp").innerText = slider3.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider3.oninput = function() {
          //output3.innerHTML = Number(slider3.value).toFixed(1);
          document.getElementById("p3hcp").innerText = Number(slider3.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         //===== player 4 ===========================================================
         
         var slider4 = document.getElementById("myRange4");
         //var output4 = document.getElementById("demo4");
         //output4.innerHTML = slider4.value; // Display the default slider value
         
         document.getElementById("p4hcp").innerText = slider4.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider4.oninput = function() {
          //output4.innerHTML = Number(slider4.value).toFixed(1);
          document.getElementById("p4hcp").innerText = Number(slider4.value).toFixed(1);
         
         doGetStrokes()
         
         
         
         }
         
         
         
         
         function plus(p) {
          var slider = document.getElementById("myRange" + p)
          //var output = document.getElementById("demo" + p);
          slider.value = parseFloat(slider.value) + 0.1
          //output.innerHTML = Number(slider.value).toFixed(1);
         
          document.getElementById("p" + p + "hcp").innerText = Number(slider.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         function minus(p) {
          var slider = document.getElementById("myRange" + p)
          //var output = document.getElementById("demo" + p);
          slider.value = parseFloat(slider.value) - 0.1
          //output.innerHTML = Number(slider.value).toFixed(1);
         
          document.getElementById("p" + p + "hcp").innerText = Number(slider.value).toFixed(1);
         
         doGetStrokes()
         
         }
         





         
         // course selected, do stuff
         function dropSelected(courseName) {
         // update selection
                document.getElementById("dropbtn").innerText = courseName;
              
                var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
                for(i = 0; i < dropdowns.length; i++) {
               var openDropdown = dropdowns[i];
               if(openDropdown.classList.contains('show')) {
                 openDropdown.classList.remove('show');
               }
            }
            // fill in the slope etc
            doGetHcpInfo(courseName);
         }
         

    // show menu of courses
         function myFunction() {
         // When the user clicks on the button, toggle between hiding and showing the dropdown content
         document.getElementById("myDropdown").classList.toggle("show");
         }

          // Close the dropdown if the user clicks outside of it
         window.onclick = function(event) {
         if(!event.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for(i = 0; i < dropdowns.length; i++) {
               var openDropdown = dropdowns[i];
               if(openDropdown.classList.contains('show')) {
               openDropdown.classList.remove('show');
               }
            }
         }
         };  
         
         
         function doGetHcpInfo(course) {
         for(i = 1; i < courses.length; i++) {
           if (courses[i][0] == course) {
         var globalcourse = courses[i][0];   
         var globalwhiteslope = courses[i][1];
         var globalwhiteci = courses[i][2];
         var globalyellowslope = courses[i][3];
         var globalyellowci = courses[i][4];
         var globalredslope = courses[i][5];
         var globalredci = courses[i][6];
      }
     }

   // do slope and course index for each tee color
   // === player 1 ===================================================
   if (globalplayer1teecolor == "white") {
      document.getElementById("p1slope").innerText = globalwhiteslope;
         document.getElementById("p1ci").innerText = globalwhiteci;
   }
   if (globalplayer1teecolor == "yellow") {
      document.getElementById("p1slope").innerText = globalyellowslope;
         document.getElementById("p1ci").innerText = globalyellowci;
   }
   if (globalplayer1teecolor == "red") {
      document.getElementById("p1slope").innerText = globalredslope;
         document.getElementById("p1ci").innerText = globalredci;
   }
   // === player 2 ==================================================
   if (globalplayer2teecolor == "white") {
      document.getElementById("p2slope").innerText = globalwhiteslope;
         document.getElementById("p2ci").innerText = globalwhiteci;
   }
   if (globalplayer2teecolor == "yellow") {
      document.getElementById("p2slope").innerText = globalyellowslope;
         document.getElementById("p2ci").innerText = globalyellowci;
   }
   if (globalplayer2teecolor == "red") {
      document.getElementById("p2slope").innerText = globalredslope;
         document.getElementById("p2ci").innerText = globalredci;
   }
   // === player 3 ==================================================
   if (globalplayer3teecolor == "white") {
      document.getElementById("p3slope").innerText = globalwhiteslope;
         document.getElementById("p3ci").innerText = globalwhiteci;
   }
   if (globalplayer3teecolor == "yellow") {
      document.getElementById("p3slope").innerText = globalyellowslope;
         document.getElementById("p3ci").innerText = globalyellowci;
   }
   if (globalplayer3teecolor == "red") {
      document.getElementById("p3slope").innerText = globalredslope;
         document.getElementById("p3ci").innerText = globalredci;
   }
   // === player 4 ==================================================
   if (globalplayer4teecolor == "white") {
      document.getElementById("p4slope").innerText = globalwhiteslope;
         document.getElementById("p4ci").innerText = globalwhiteci;
   }
   if (globalplayer4teecolor == "yellow") {
      document.getElementById("p4slope").innerText = globalyellowslope;
         document.getElementById("p4ci").innerText = globalyellowci;
   }
   if (globalplayer4teecolor == "red") {
      document.getElementById("p4slope").innerText = globalredslope;
         document.getElementById("p4ci").innerText = globalredci;
   }       
         
     }      
         
         



/*
Player 1: White Tee, Handicap Index 6.8

Step 1: Course Handicaps
Player 1: 6.8 x 133 / 113 = 8.00, rounded = 8

Step 2: 90% Allowance
Player 1: 8 x 90% = 7.2

Step 3: Course Rating adjustment
Player 1: 7.2, rounded to 7

Step 4: Adjusted for lowest handicap
Player 1: 7 – 7 = 0
*/














         function doGetStrokes() {
         
         // calculate strokes
         temp1hcp = document.getElementById("p1hcp").innerText
         temp2hcp = document.getElementById("p2hcp").innerText
         temp3hcp = document.getElementById("p3hcp").innerText
         temp4hcp = document.getElementById("p4hcp").innerText
         
         temp1slope = document.getElementById("p1slope").innerText
         temp2slope = document.getElementById("p2slope").innerText
         temp3slope = document.getElementById("p3slope").innerText
         temp4slope = document.getElementById("p4slope").innerText
  
   
          // Step 1: Course Handicaps
          // Player 1: 6.8 x 133 / 113 = 8.00, rounded = 8 
	  // temp1hcp x temp1slope / 113 = tempchadjusted1, rounded = tempchadjusted1fixed0  
          
// calc course hcp
          tempchadjusted1 = (parseInt(temp1slope)/113) * parseFloat(temp1hcp)
          tempchadjusted2 = (parseInt(temp2slope)/113) * parseFloat(temp2hcp)
          tempchadjusted3 = (parseInt(temp3slope)/113) * parseFloat(temp3hcp)       
          tempchadjusted4 = (parseInt(temp4slope)/113) * parseFloat(temp4hcp)  

          tempchadjusted1fixed = tempchadjusted1.toFixed(2);
          tempchadjusted2fixed = tempchadjusted2.toFixed(2);
          tempchadjusted3fixed = tempchadjusted3.toFixed(2);      
          tempchadjusted4fixed = tempchadjusted4.toFixed(2);

          tempchadjusted1fixed0 = tempchadjusted1.toFixed(0);
          tempchadjusted2fixed0 = tempchadjusted2.toFixed(0);
          tempchadjusted3fixed0 = tempchadjusted3.toFixed(0);      
          tempchadjusted4fixed0 = tempchadjusted4.toFixed(0);

     // Step 2: 90% Allowance
     // Player 1: 8 x 90% = 7.2
     // tempchbefore1fixed0  x 90% =  tempph1fixed

// calc 90% adjusted
     tempph1 = (tempchadjusted1 * 0.9);
     tempph2 = (tempchadjusted2 * 0.9);
     tempph3 = (tempchadjusted3 * 0.9);
     tempph4 = (tempchadjusted4 * 0.9);

     tempph1fixed = tempph1.toFixed(1);
     tempph2fixed = tempph2.toFixed(1);
     tempph3fixed = tempph3.toFixed(1);
     tempph4fixed = tempph4.toFixed(1);

     tempph1fixed0 = tempph1.toFixed(0);
     tempph2fixed0 = tempph2.toFixed(0);
     tempph3fixed0 = tempph3.toFixed(0);
     tempph4fixed0 = tempph4.toFixed(0);




   // provide updated text to show in slider
   tempstrokes1full = "adj course hcp = " + tempchadjusted1fixed0 + ", playing hcp = " + tempph1fixed0;
   tempstrokes2full = "adj course hcp = " + tempchadjusted2fixed0 + ", playing hcp = " + tempph2fixed0;
   tempstrokes3full = "adj course hcp = " + tempchadjusted3fixed0 + ", playing hcp = " + tempph3fixed0;
   tempstrokes4full = "adj course hcp = " + tempchadjusted4fixed0 + ", playing hcp = " + tempph4fixed0;
 
// show in slider window      
         document.getElementById("demo1").innerText = tempstrokes1full 
         document.getElementById("demo2").innerText = tempstrokes2full
         document.getElementById("demo3").innerText = tempstrokes3full 
         document.getElementById("demo4").innerText = tempstrokes4full 
         

       
     // add mixed tee variation to decimal course hcp (no rounding yet)
     // Step 3: Course Rating adjustment
         // Player 1: 7.2, rounded to 7
         // Player 3: 16.2 + 1.4 = 17.6, rounded = 18
         // tempph1fixed rounded to tempph1fixed0
         // tempph1fixed + cradj1 = tempchadjusted1, rounded = tempchadjusted4fixed0  


// get course rating
     temp1ci = document.getElementById("p1ci").innerText;
     temp2ci = document.getElementById("p2ci").innerText;
     temp3ci = document.getElementById("p3ci").innerText;
     temp4ci = document.getElementById("p4ci").innerText;
     var lowestcr = Math.min(temp1ci, temp2ci, temp3ci, temp4ci);

     // add cr adjustment
     tempphadjusted1 = tempph1 + (temp1ci - lowestcr);
     tempphadjusted2 = tempph2 + (temp2ci - lowestcr);
     tempphadjusted3 = tempph3 + (temp3ci - lowestcr);
     tempphadjusted4 = tempph4 + (temp4ci - lowestcr);
     
     tempphadjusted1fixed = tempphadjusted1.toFixed(1);
     tempphadjusted2fixed = tempphadjusted2.toFixed(1);
     tempphadjusted3fixed = tempphadjusted3.toFixed(1);
     tempphadjusted4fixed = tempphadjusted4.toFixed(1);

     tempphadjusted1fixed0 = tempphadjusted1.toFixed(0);
     tempphadjusted2fixed0 = tempphadjusted2.toFixed(0);
     tempphadjusted3fixed0 = tempphadjusted3.toFixed(0);
     tempphadjusted4fixed0 = tempphadjusted4.toFixed(0);


// work out lowest after cr has just been applied 
         var tempstrokes1mod = tempphadjusted1
         var tempstrokes2mod = tempphadjusted2
         var tempstrokes3mod = tempphadjusted3
         var tempstrokes4mod = tempphadjusted4



         if (tempstrokes1mod == "0") {
            tempstrokes1mod = 99;
         }
         if (tempstrokes2mod == "0") {
            tempstrokes2mod = 99;
         }
         if (tempstrokes3mod == "0") {
            tempstrokes3mod = 99;
         }
         if (tempstrokes4mod == "0") {
            tempstrokes4mod = 99;
         }


       var loweststrokes = Math.min(tempstrokes1mod, tempstrokes2mod, tempstrokes3mod, tempstrokes4mod)        

         // Step 4: Adjusted for lowest handicap
         // Player 1: 7 – 7 = 0

// work out new stroke differences
         var newstrokes1 = 0        
         var newstrokes2 = 0 
         var newstrokes3 = 0 
         var newstrokes4 = 0
 
         if (tempstrokes1mod !== 99) {
            newstrokes1 = (tempphadjusted1 - loweststrokes)  
         }
         if (tempstrokes2mod !== 99) {
            newstrokes2 = (tempphadjusted2 - loweststrokes) 
         }
         if (tempstrokes3mod !== 99) {
            newstrokes3 = (tempphadjusted3 - loweststrokes) 
         }
         if (tempstrokes4mod !== 99) {
            newstrokes4 = (tempphadjusted4 - loweststrokes) 
         }

         document.getElementById("p1calchcp").innerText = newstrokes1.toFixed(0); 
         document.getElementById("p2calchcp").innerText = newstrokes2.toFixed(0);
         document.getElementById("p3calchcp").innerText = newstrokes3.toFixed(0);
         document.getElementById("p4calchcp").innerText = newstrokes4.toFixed(0);

         // show calcs at bottom of screen





         var txt11 = "Player 1: " + globalplayer1teecolor + " tees, handicap index = " + temp1hcp
         var txt21 = "Player 2: " + globalplayer2teecolor + " tees, handicap index = " + temp2hcp
         var txt31 = "Player 3: " + globalplayer3teecolor + " tees, handicap index = " + temp3hcp
         var txt41 = "Player 4: " + globalplayer4teecolor + " tees, handicap index = " + temp4hcp

         var txt12 = "Player 1: " + temp1hcp + " x " + document.getElementById("p1slope").innerText + " / 113 = " + tempchadjusted1fixed + " = " + tempchadjusted1fixed0;
         var txt22 = "Player 2: " + temp2hcp + " x " + document.getElementById("p2slope").innerText + " / 113 = " + tempchadjusted2fixed + " = " + tempchadjusted2fixed0;
         var txt32 = "Player 3: " + temp3hcp + " x " + document.getElementById("p3slope").innerText + " / 113 = " + tempchadjusted3fixed + " = " + tempchadjusted3fixed0;
         var txt42 = "Player 4: " + temp4hcp + " x " + document.getElementById("p4slope").innerText + " / 113 = " + tempchadjusted4fixed + " = " + tempchadjusted4fixed0;
         var txt13 = "Player 1: " + tempchadjusted1fixed0 + " x 90% = " + tempph1fixed;
         var txt23 = "Player 2: " + tempchadjusted2fixed0 + " x 90% = " + tempph2fixed;
         var txt33 = "Player 3: " + tempchadjusted3fixed0 + " x 90% = " + tempph3fixed;
         var txt43 = "Player 4: " + tempchadjusted4fixed0 + " x 90% = " + tempph4fixed;

         var cradj1 = (temp1ci - lowestcr).toFixed(1);
         var cradj2 = (temp2ci - lowestcr).toFixed(1);
         var cradj3 = (temp3ci - lowestcr).toFixed(1);
         var cradj4 = (temp4ci - lowestcr).toFixed(1);

 
         var txt14 = "empty"
         var txt24 = "empty"
         var txt34 = "empty"
         var txt44 = "empty"


         if (cradj1 !== "0.0") {
            txt14 = "Player 1: " + tempph1fixed + " + " + cradj1 + " = " + temppchadjusted1fixed + " = " + tempphadjusted1fixed0;
         } else {
            txt14 = "Player 1: " + tempph1fixed + " no adjustment = " + tempphadjusted1fixed0;
         }

         if (cradj2 !== "0.0") {
            txt24 = "Player 2: " + tempph2fixed + " + " + cradj2 + " = " + tempphadjusted2fixed + " = " + tempphadjusted2fixed0;
         } else {
            txt24 = "Player 2: " + tempph2fixed + " no adjustment = " + tempphadjusted2fixed0;
         }

         if (cradj3 !== "0.0") {
            txt34 = "Player 3: " + tempph3fixed + " + " + cradj3 + " = " + tempphadjusted3fixed + " = " + tempphadjusted3fixed0;
         } else {
            txt34 = "Player 3: " + tempph3fixed + " no adjustment = " + tempphadjusted3fixed0;
         }

         if (cradj4 !== "0.0") {
            txt44 = "Player 4: " + tempph4fixed + " + " + cradj4 + " = " + tempphadjusted4fixed + " = " + tempphadjusted4fixed0;
         } else {
            txt44 = "Player 4: " + tempph4fixed + " no adjustment = " + tempphadjusted4fixed0;
         }



         var txt15 = "Player 1: " + tempphadjusted1fixed0 + " - " + loweststrokes.toFixed(0) + " = " +  (roundToTwo(tempphadjusted1) - roundToTwo(loweststrokes)).toFixed(0);
         var txt25 = "Player 2: " + tempphadjusted2fixed0 + " - " + loweststrokes.toFixed(0) + " = " +  (roundToTwo(tempphadjusted2) - roundToTwo(loweststrokes)).toFixed(0);
         var txt35 = "Player 3: " + tempphadjusted3fixed0 + " - " + loweststrokes.toFixed(0) + " = " +  (roundToTwo(tempphadjusted3) - roundToTwo(loweststrokes)).toFixed(0);
         var txt45 = "Player 4: " + tempphadjusted4fixed0 + " - " + loweststrokes.toFixed(0) + " = " +  (roundToTwo(tempphadjusted4) - roundToTwo(loweststrokes)).toFixed(0);

         var htxt1 = "Step 1: Original handicaps and tees"
         var htxt2 = "Step 2: Adjust to Course Handicaps"
         var htxt3 = "Step 3: Adjust for Allowance (90%)"
         var htxt4 = "Step 4: Adjust for Course Rating"
         var htxt5 = "Step 5: Adjust for lowest handicap"



         document.getElementById("calcs1").innerHTML = "<br>" + htxt1 + "<br>" + txt11 + "<br>" + txt21 + "<br>" + txt31 + "<br>" + txt41 + "<br>";
         document.getElementById("calcs2").innerHTML = "<br>" + htxt2 + "<br>" + txt12 + "<br>" + txt22 + "<br>" + txt32 + "<br>" + txt42 + "<br>";
         document.getElementById("calcs3").innerHTML = "<br>" + htxt3 + "<br>" + txt13 + "<br>" + txt23 + "<br>" + txt33 + "<br>" + txt43 + "<br>";
         document.getElementById("calcs4").innerHTML = "<br>" + htxt4 + "<br>" + txt14 + "<br>" + txt24 + "<br>" + txt34 + "<br>" + txt44 + "<br>";
         document.getElementById("calcs5").innerHTML = "<br>" + htxt5 + "<br>" + txt15 + "<br>" + txt25 + "<br>" + txt35 + "<br>" + txt45 + "<br>";

 }
         

   function getteecolor(id) {
   var temptee = id.replace("tee","xteecolors");

   if (document.getElementById(temptee).style.display !== "table-row") {
            document.getElementById(temptee).style.display = "table-row";
          } else {
            document.getElementById(temptee).style.display = "none";
          }

   }

   function teecolor(id) {

      color = id.substring(0,id.length - 1);
      hole = id.substring(id.length - 1);

      if (color == "white") {
         document.getElementById("p" + hole + "slope").innerText =  courses[1][1];
         document.getElementById("p" + hole + "ci").innerText =  courses[1][2];   

         document.getElementById("tee" + hole).style.background = "white";
         document.getElementById("tee" + hole).style.color = "blue";

      }
      if (color == "yellow") {
         document.getElementById("p" + hole + "slope").innerText =  courses[1][3];
         document.getElementById("p" + hole + "ci").innerText =  courses[1][4];   
      
         document.getElementById("tee" + hole).style.background = "yellow";
         document.getElementById("tee" + hole).style.color = "blue";
      }
      if (color == "red") {
         document.getElementById("p" + hole + "slope").innerText =  courses[1][5];
         document.getElementById("p" + hole + "ci").innerText =  courses[1][6];

         document.getElementById("tee" + hole).style.background = "red";   
         document.getElementById("tee" + hole).style.color = "blue";
      }

      if (hole == "1") {
         	globalplayer1teecolor = color;
      }	
      if (hole == "2") {
         	globalplayer2teecolor = color;
      }
      if (hole == "3") {
         	globalplayer3teecolor = color;
      }
      if (hole == "4") {
         	globalplayer4teecolor = color;
      }

      // close colors
      document.getElementById("xteecolors" + hole).style.display = "none";

   }

function closeslider(id) {
   // close slider
  document.getElementById(id).style.display = "none";
}	


/* 
======================================================================
Playing Handicap Calculations
The following sets out the calculation steps, for the fourball matchplay, as an example:
There are 4 steps to calculating the matchplay handicaps.

Step 1: Course Handicaps
For each player, convert their Handicap Index into a Course Handicap.

Step 2: Handicap allowances
For individual matchplay, the allowance is 100%. For pairs, it is 90%.
If you are playing pairs matchplay, adjust each handicap to 90% of the Course Handicap.

NB if mixed tees are being used, do not round until after step 3..

Step 3: Course Rating adjustment
The players who are on the tees with a higher Course Rating get an adjustment, based on the Course Rating difference, which is applied as an exact, non-rounded value.

The resulting handicaps values should now be rounded, to give the Playing Handicap for each player.

Step 4: Handicap difference
Adjust each Playing Handicap so the lowest handicap plays off zero.

Example:

White Tee: Slope Rating: 133, Course Rating: 72.3
Red Tee: Slope Rating: 125, Course Rating: 73.7

Player 1: White Tee, Handicap Index 6.8
Player 2: White Tee, Handicap Index 15.4
Player 3: Red Tee, Handicap Index 16.7
Player 4: Red Tee, Handicap Index 22.6

Step 1: Course Handicaps

Player 1: 6.8 x 133 / 113 = 8.00, rounded = 8
Player 2: 15.4 x 133 / 113 = 18.13, rounded = 18
Player 3: 16.7 x 125 / 113 = 18.47, rounded =  18
Player 4: 22.6 x 125 / 113 = 25.00, rounded = 25

Step 2: 90% Allowance

Player 1: 8 x 90% = 7.2
Player 2: 18 x 90% = 16.2
Player 3: 18 x 90% = 16.2
Player 4: 25 x 90% = 22.5

Step 3: Course Rating adjustment

The Red tee has a higher Course Rating. The difference is 1.4, so this is added on to players using the Red tees.
Player 1: 7.2, rounded to 7
Player 2: 16.2, rounded to 16
Player 3: 16.2 + 1.4 = 17.6, rounded = 18
Player 4: 22.5 + 1.4 = 23.9, rounded = 24

Step 4: Adjusted for lowest handicap

Player 1: 7 – 7 = 0
Player 2: 16 – 7 = 9
Player 3: 18 – 7 = 11
Player 4: 24 – 7 = 17


==============================================================
*/



      </script>
   </body>
</html>