<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta content="Bryan M" name="author">
      <title>hcp calc</title>
      <link href="favicon.ico" rel="icon" type="image/x-icon">
      <style>
         body {
         margin: 0px;
         padding: 0px;
         width: 100%;
         height: 100%;
         background-color: Gray;
         font-family: 'arial';
         color: white;
         }
         .stxt {
         text-align: center;
         font-size: 30px;
         }
         h2 {
         text-align: center;
         padding-top: 1%;
         padding-bottom: 1%;
         color: white;
         font-size: 25px;
         border: 3px solid rgba(255, 255, 255, 0.2);
         background-clip: padding-box;
         background-color: rgba(0, 0, 0, 0.2);
         }
         .td1 {
         border-style: solid;
         border-color: greenYellow;
         text-align: center;
         font-size: 20px;
         width: calc(88vw/5);
         }
         .td1pad10 {
         text-align: center;
         font-size: 20px;
         width: 100%;
         padding-top: 20px;
         }
         .tr1 {
         text-align: center;
         font-size: 20px;
         width: 100%;
         }
         .tr1left {
         text-align: center;
         }
         .td0 {
         padding-top: 100px;
         }
         select {
         border: 0;
         background: gray;
         width: 100%;
         -webkit-appearance: none;
         }
         option {
         padding-left: 5px;
         }
         .drop {
         background: gray;
         border: none;
         }
         .sideways {
         font-size: 16px;
         writing-mode: vertical-rl;
         text-orientation: mixed;
         padding-top: 10px;
         padding-bottom: 10px;
         text-align: right;
         vertical-align: middle;
         }
         #slidecontainer1,
         #slidecontainer2,
         #slidecontainer3,
         #slidecontainer4 {
         display: none;
         }
         #myRange1,
         #myRange2,
         #myRange3,
         #myRange4
         {
         width: 90%;
         padding-top: 15px;
         }
         #inputcourse1,
         #inputcourse2,
         #inputcourse3,
         #inputcourse4,
         #inputcourse5 
         {
         width: 100%;
         font-size: 20px;
         background: gray;
         color: greenYellow;
         }
         .yellow {
         color: greenYellow;
         }
         .slider {
         -webkit-appearance: none;
         width: 50%;
         height: 2px;
         background: gray;
         outline: none;
         border: 3px solid greenYellow;
         border-radius: 8px;
         }
         /* for chrome/safari */
         .slider::-webkit-slider-thumb {
         -webkit-appearance: none;
         appearance: none;
         width: 20px;
         height: 40px;
         background: gray;
         cursor: pointer;
         border: 3px solid greenYellow;
         border-radius: 4px;
         }
         /* for firefox */
         .slider::-moz-range-thumb {
         width: 20px;
         height: 60px;
         background: gray;
         cursor: pointer;
         border: 3px solid greenYellow;
         border-radius: 4px;
         }
         #minusicon1,
         #minusicon2,
         #minusicon3,
         #minusicon4
         {
         padding-left: 20px;
         float: left;
         }
         #plusicon1,
         #plusicon2,
         #plusicon3,
         #plusicon4
         {
         padding-right: 20px;
         float: right;
         }
         #closeicon1,
         #closeicon2,
         #closeicon3,
         #closeicon4
         {
         padding-top: 10px;
         }
         #dropbtn {
         color: greenYellow;
         cursor: pointer;
         height: 8vh;
         font-size: 20px;
         background: gray;
         border-radius: 3px;
         border: none;
         }  
         .dropdown {
         position: relative;
         display: inline-block;
         }   
         .dropdown-content {
         display: none;
         position: absolute;
         background-color: #f1f1f1;
         width: 50vw; //160px;
        // overflow: auto;
         box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
         z-index: 1;
         border-radius: 3px;
         box-shadow: 10px 10px 25px black;
         max-height: 70vh;
         }
         .dropdown-content a {
         text-align: left;
         color: gray;
         padding: 12px 16px;
         text-decoration: none;
         display: block;
         }
         .dropdown-content a:hover, .dropdown-content2 a:hover {
         color: greenYellow;
         background: gray;
         padding: 12px 16px;
         text-decoration: none;
         display: block;
         }  
         .show {
         display: block;
         }
         #demo1, #demo2, #demo3, #demo4 {
         color: greenYellow;
         font-size:16px;
         }
         #xteecolors1, #xteecolors2, #xteecolors3, #xteecolors4 {
         display: none;
         }
         #white1, #white2, #white3, #white4 {
         font-size: 20px;
         color: blue;
         padding-top: 20px;
         padding-bottom: 20px;
         background: white;
         border: 3px solid greenYellow;
         text-align: center;
         }
         #yellow1, #yellow2, #yellow3, #yellow4 {
         font-size: 20px;
         color: blue;
         padding-top: 20px;
         padding-bottom: 20px;
         background: yellow;
         border: 3px solid greenYellow;
         text-align: center;
         }
         #red1, #red2, #red3, #red4 {
         font-size: 20px;
         color: blue;
         padding-top: 20px;
         padding-bottom: 20px;
         background: red;
         border: 3px solid greenYellow;
         text-align: center;
         }
         #calcs1 {
         font-size: 15px;
         color: white;
         padding-left: 2px;
         }
         #calcs2 {
         font-size: 15px;
         color: mediumSpringGreen;
         padding-left: 2px;
         }
         #calcs3 {
         font-size: 15px;
         color: cyan;
         padding-left: 2px;
         }
         #calcs4 {
         font-size: 15px;
         color: yellow;
         padding-left: 2px;
         }
      
      </style>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   </head>
   <body>
      <div class="page" id="page">
         <table class="table">
            <caption></caption>
            <thead>
            </thead>
            <tbody>
               <tr class="tr1">
                  <td class="td1" colspan="5">
                     <div class="mainselection">
                        <div class="wrapper">
                           <button onclick="myFunction();" class="dropbtn" id="dropbtn">select course</button>
                           <div id="myDropdown" class="dropdown-content"> 
<a id="inputcourse1" href="#" onclick='dropSelected(this.innerText);return false;'>Longhirst Dawson</a>             
<a id="inputcourse2" href="#" onclick='dropSelected(this.innerText);return false;'>Longhirst Lakes</a>           
<a id="inputcourse3" href="#" onclick='dropSelected(this.innerText);return false;'>Bellingham</a>             
<a id="inputcourse4" href="#" onclick='dropSelected(this.innerText);return false;'>Blyth</a>      
<a id="inputcourse5" href="#" onclick='dropSelected(this.innerText);return false;'>Ponteland</a>             
                            
                           </div>
                        </div>
                     </div>
                  </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
               <tr class="tr1">
                  <td class="td1 sideways">tee</td>
                  <td class="td1 sideways">hcp</td>
                  <td class="td1 sideways">slope</td>
                  <td class="td1 sideways">course<br>rating</td>
                  <td class="td1 sideways">strokes</td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
               <!-- player 1 -->
               <tr>
                  <td colspan="5"></td>
               </tr>

               <tr class="tr1">
                  <td class="td1" id="tee1" onclick='getteecolor(this.id)'>1</td>
                  <td class="td1 yellow" id="p1hcp" onclick="p1hcpadjust()">0</td>
                  <td class="td1" id="p1slope">0</td>
                  <td class="td1" id="p1ci">0</td>
                  <td class="td1" id="p1calchcp">0</td>
               </tr>
<!-- tee colors -->
               <tr class="tr1" id="xteecolors1">
                  <td id="white1" onclick="teecolor(this.id)">white</td>
                  <td id="yellow1" onclick="teecolor(this.id)">yellow</td>
                  <td id="red1" onclick="teecolor(this.id)">red</td>
                  <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer1">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange1">
                        <p><span id="demo1"></span></p>
                        <div class="minusiconcontainer" id="minusicon1"> <img src="minusgreen.png" alt="minus" onclick="minus(1)" style="height: 60px; width: 60px;">
                        </div>
                        <div class="plusiconcontainer" id="plusicon1"> <img src="plusgreen.png" alt="plus" onclick="plus(1)" style="height: 60px; width: 60px;">
                        </div>

                        <div class="closeiconcontainer" id="closeicon1"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer1")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
            </tr>
               <!-- player 2 -->
               <tr>
                  <td colspan="5"></td>
               </tr>
               <tr class="tr1">
                  <td class="td1" id="tee2" onclick='getteecolor(this.id)'>2</td>
                  <td class="td1 yellow" id="p2hcp" onclick="p2hcpadjust()">0</td>
                  <td class="td1" id="p2slope">0</td>
                  <td class="td1" id="p2ci">0</td>
                  <td class="td1" id="p2calchcp">0</td>
               </tr>
<!-- tee colors -->
          <tr  class="tr1" id="xteecolors2">
      <td id="white2" onclick="teecolor(this.id)">white</td>
      <td id="yellow2" onclick="teecolor(this.id)">yellow</td>
      <td id="red2" onclick="teecolor(this.id)">red</td>
      <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer2">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange2">
                        <p><span id="demo2"></span></p>
                        <div class="minusiconcontainer" id="minusicon2"> <img src="minusgreen.png" alt="minus" onclick="minus(2)" style="height: 85px; width: 85px;"> </div>
                        <div class="plusiconcontainer" id="plusicon2"> <img src="plusgreen.png" alt="plus" onclick="plus(2)" style="height: 85px; width: 85px;"> </div>
                     
                        <div class="closeiconcontainer" id="closeicon2"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer2")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>

               <tr class="tr1">
                  <td class="td1" id="tee3" onclick='getteecolor(this.id)'>3</td>
                  <td class="td1 yellow" id="p3hcp" onclick="p3hcpadjust()">0</td>
                  <td class="td1" id="p3slope">0</td>
                  <td class="td1" id="p3ci">0</td>
                  <td class="td1" id="p3calchcp">0</td>
               </tr>
<!-- tee colors -->
          <tr  class="tr1" id="xteecolors3">
      <td id="white3" onclick="teecolor(this.id)">white</td>
      <td id="yellow3" onclick="teecolor(this.id)">yellow</td>
      <td id="red3" onclick="teecolor(this.id)">red</td>
      <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer3">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange3">
                        <p><span id="demo3">course hcp = 33, playing hcp = 32</span></p>
                        <div class="minusiconcontainer" id="minusicon3"> <img src="minusgreen.png" alt="minus" onclick="minus(3)" style="height: 85px; width: 85px;"> </div>
                        <div class="plusiconcontainer" id="plusicon3"> <img src="plusgreen.png" alt="plus" onclick="plus(3)" style="height: 85px; width: 85px;"> </div>
                     
                        <div class="closeiconcontainer" id="closeicon3"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer3")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
               <tr class="tr1">
                  <td class="td1" id="tee4" onclick='getteecolor(this.id)'>4</td>
                  <td class="td1 yellow" id="p4hcp" onclick="p4hcpadjust()">0</td>
                  <td class="td1" id="p4slope">0</td>
                  <td class="td1" id="p4ci">0</td>
                  <td class="td1" id="p4calchcp">0</td>
               </tr>
<!-- tee colors -->
          <tr  class="tr1" id="xteecolors4">
      <td id="white4" onclick="teecolor(this.id)">white</td>
      <td id="yellow4" onclick="teecolor(this.id)">yellow</td>
      <td id="red4" onclick="teecolor(this.id)">red</td>
      <td colspan="2"></td>
              </tr>
<!-- hcp adjustment -->
               <tr class="tr1">
                  <td class="td1pad10" colspan="5">
                     <div class="slidecontainer" id="slidecontainer4">
                        <input type="range" min="0.0" max="40.0" value="0" class="slider" step="0.1" id="myRange4">
                        <p><span id="demo4">xxxxxxxxxx</span></p>
                        <div class="minusiconcontainer" id="minusicon4"> <img src="minusgreen.png" alt="minus" onclick="minus(4)" style="height: 85px; width: 85px;"> </div>
                        <div class="plusiconcontainer" id="plusicon4"> <img src="plusgreen.png" alt="plus" onclick="plus(4)" style="height: 85px; width: 85px;"> </div>
                     
                        <div class="closeiconcontainer" id="closeicon4"> <img src="close.png" alt="close" onclick='closeslider("slidecontainer4")' style="height: 30px; width: 30px;"> </div>

                     </div>
                     
               </td>
               </tr>
               <tr>
                  <td colspan="5"></td>
               </tr>
            </tbody>
         </table>
      </div>
      <br>
      <div class="row">
         <div>
            <h2>Stroke calculations for (mixed tees) Pairs Matchplay</h2>
         </div>
      </div>
      <br>
      <div id = "calcs1"></div>
      <div id = "calcs2"></div>
      <div id = "calcs3"></div>
      <div id = "calcs4"></div>
      <br>
      <br>
      <br>
      <script>

   //=== globals =====================
   var globalcourse;
   var globalwhiteslope;
   var globalwhiteci;
   var globalyellowslope;
   var globalyellowci;
   var globalredslope;
   var globalredci;
   var globalplayer1teecolor;
   var globalplayer2teecolor;
   var globalplayer3teecolor;
   var globalplayer4teecolor;

   // array: course, white slope, white index, yellow slope, yellow index, red slope, red index
         var courses = [
             ["select course","","","","","",""],
             ["Longhirst Dawson","120","72.3","120","71.1","121","72.5"],
             ["Longhirst Lakes","121","69.7","116","67.6","117","69.1"],
             ["Bellingham","131","70.3","127","69.2","124","71.8"],
             ["Blyth","132","69.3","128","68.1","122","69.6"],
             ["Ponteland","133","72.2","128","70.9","133","74.4"]
         ];
         
   // default to Dawson yellow tees
   // player 1
 

  document.getElementById("p1slope").innerText =  courses[1][3];
   document.getElementById("p1ci").innerText =  courses[1][4];   
      
   document.getElementById("tee1").style.background = "yellow";
   document.getElementById("tee1").style.color = "blue";
        // player 2 
   document.getElementById("p2slope").innerText =  courses[1][3];
   document.getElementById("p2ci").innerText =  courses[1][4];   
      
   document.getElementById("tee2").style.background = "yellow";
   document.getElementById("tee2").style.color = "blue";
   // player 3
   document.getElementById("p3slope").innerText =  courses[1][3];
   document.getElementById("p3ci").innerText =  courses[1][4];   
      
   document.getElementById("tee3").style.background = "yellow";
   document.getElementById("tee3").style.color = "blue";
        // player 2 
   document.getElementById("p4slope").innerText =  courses[1][3];
   document.getElementById("p4ci").innerText =  courses[1][4];   
      
   document.getElementById("tee4").style.background = "yellow";
   document.getElementById("tee4").style.color = "blue";
    
   document.getElementById("dropbtn").innerText = "Longhirst Dawson";

   globalcourse = "Longhirst Dawson"

   globalplayer1teecolor = "yellow"     
   globalplayer2teecolor = "yellow" 
   globalplayer3teecolor = "yellow" 
   globalplayer4teecolor = "yellow" 

  doGetHcpInfo(globalcourse)

        // === functions ========================     
       //===================================================
       // special function for use in calculations
       // rounds a number and returns a number
       function roundToZero(num) {
          return +(Math.round(num + "e+0")  + "e-0");
       }
       //===================================================

       //===================================================
       // special function for use in calculations
       // rounds a number and returns a number
       function roundToOne(num) {
          return +(Math.round(num + "e+1")  + "e-1");
       }
       //===================================================

       //===================================================
       // special function for use in calculations
       // rounds a number to 2 decimal and returns a number
       function roundToTwo(num) {
          return +(Math.round(num + "e+2")  + "e-2");
       }
       //===================================================
         function p1hcpadjust() {
          if (document.getElementById("slidecontainer1").style.display !== "inline") {
            document.getElementById("slidecontainer1").style.display = "inline";
          } else {
            document.getElementById("slidecontainer1").style.display = "none";
          }
         
          document.getElementById("slidecontainer2").style.display = "none";
          document.getElementById("slidecontainer3").style.display = "none";
          document.getElementById("slidecontainer4").style.display = "none";

         }
         
         function p2hcpadjust() {
          if (document.getElementById("slidecontainer2").style.display !== "inline") {
            document.getElementById("slidecontainer2").style.display = "inline";
          } else {
            document.getElementById("slidecontainer2").style.display = "none";
          }
         
          document.getElementById("slidecontainer1").style.display = "none";
          document.getElementById("slidecontainer3").style.display = "none";
          document.getElementById("slidecontainer4").style.display = "none";
         }
         
         function p3hcpadjust() {
          if (document.getElementById("slidecontainer3").style.display !== "inline") {
            document.getElementById("slidecontainer3").style.display = "inline";
          } else {
            document.getElementById("slidecontainer3").style.display = "none";
          }
         
          document.getElementById("slidecontainer1").style.display = "none";
          document.getElementById("slidecontainer2").style.display = "none";
          document.getElementById("slidecontainer4").style.display = "none";
         }
         
         function p4hcpadjust() {
          if (document.getElementById("slidecontainer4").style.display !== "inline") {
            document.getElementById("slidecontainer4").style.display = "inline";
          } else {
            document.getElementById("slidecontainer4").style.display = "none";
          }
         
          document.getElementById("slidecontainer1").style.display = "none";
          document.getElementById("slidecontainer2").style.display = "none";
          document.getElementById("slidecontainer3").style.display = "none";
         }
         
         
         
         
         //===== player 1 ===========================================================
         
         var slider1 = document.getElementById("myRange1");
         //var output1 = document.getElementById("demo1");
         //output1.innerHTML = slider1.value; // Display the default slider value
         
         document.getElementById("p1hcp").innerText = slider1.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider1.oninput = function() {
          //output1.innerHTML = Number(slider1.value).toFixed(1);
          document.getElementById("p1hcp").innerText = Number(slider1.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         //===== player 2 ===========================================================
         
         var slider2 = document.getElementById("myRange2");
         //var output2 = document.getElementById("demo2");
         //output1.innerHTML = slider2.value; // Display the default slider value
         
         document.getElementById("p2hcp").innerText = slider2.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider2.oninput = function() {
          //output2.innerHTML = Number(slider2.value).toFixed(1);
          document.getElementById("p2hcp").innerText = Number(slider2.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         //===== player 3 ===========================================================
         
         var slider3 = document.getElementById("myRange3");
         //var output3 = document.getElementById("demo3");
         //output3.innerHTML = slider3.value; // Display the default slider value
         
         document.getElementById("p3hcp").innerText = slider3.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider3.oninput = function() {
          //output3.innerHTML = Number(slider3.value).toFixed(1);
          document.getElementById("p3hcp").innerText = Number(slider3.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         //===== player 4 ===========================================================
         
         var slider4 = document.getElementById("myRange4");
         //var output4 = document.getElementById("demo4");
         //output4.innerHTML = slider4.value; // Display the default slider value
         
         document.getElementById("p4hcp").innerText = slider4.value; // Display the default slider value
         
         // Update the current slider value (each time you drag the slider handle)
         slider4.oninput = function() {
          //output4.innerHTML = Number(slider4.value).toFixed(1);
          document.getElementById("p4hcp").innerText = Number(slider4.value).toFixed(1);
         
         doGetStrokes()
         
         
         
         }
         
         
         
         
         function plus(p) {
          var slider = document.getElementById("myRange" + p)
          //var output = document.getElementById("demo" + p);
          slider.value = parseFloat(slider.value) + 0.1
          //output.innerHTML = Number(slider.value).toFixed(1);
         
          document.getElementById("p" + p + "hcp").innerText = Number(slider.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         function minus(p) {
          var slider = document.getElementById("myRange" + p)
          //var output = document.getElementById("demo" + p);
          slider.value = parseFloat(slider.value) - 0.1
          //output.innerHTML = Number(slider.value).toFixed(1);
         
          document.getElementById("p" + p + "hcp").innerText = Number(slider.value).toFixed(1);
         
         doGetStrokes()
         
         }
         
         
         // course selected, do stuff
         function dropSelected(courseName) {
         // update selection
                document.getElementById("dropbtn").innerText = courseName;
              
                var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
                for(i = 0; i < dropdowns.length; i++) {
               var openDropdown = dropdowns[i];
               if(openDropdown.classList.contains('show')) {
                 openDropdown.classList.remove('show');
               }
            }
            // fill in the slope etc for new course
            doGetHcpInfo(courseName);

            // redo calcs for new course
            doGetStrokes()
         }
         

    // show menu of courses
         function myFunction() {
         // When the user clicks on the button, toggle between hiding and showing the dropdown content
         document.getElementById("myDropdown").classList.toggle("show");
         }

          // Close the dropdown if the user clicks outside of it
         window.onclick = function(event) {
         if(!event.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for(i = 0; i < dropdowns.length; i++) {
               var openDropdown = dropdowns[i];
               if(openDropdown.classList.contains('show')) {
               openDropdown.classList.remove('show');
               }
            }
         }
         };  
         
         
         function doGetHcpInfo(course) {

         for(i = 1; i < courses.length; i++) {
           if (courses[i][0] == course) {
              globalcourse = courses[i][0];   
              globalwhiteslope = courses[i][1];
              globalwhiteci = courses[i][2];
              globalyellowslope = courses[i][3];
              globalyellowci = courses[i][4];
              globalredslope = courses[i][5];
              globalredci = courses[i][6];
           }
        }

   // do slope and course index for each tee color
   // === player 1 ===================================================
   if (globalplayer1teecolor == "white") {
      document.getElementById("p1slope").innerText = globalwhiteslope;
         document.getElementById("p1ci").innerText = globalwhiteci;
   }
   if (globalplayer1teecolor == "yellow") {
      document.getElementById("p1slope").innerText = globalyellowslope;
         document.getElementById("p1ci").innerText = globalyellowci;
   }
   if (globalplayer1teecolor == "red") {
      document.getElementById("p1slope").innerText = globalredslope;
         document.getElementById("p1ci").innerText = globalredci;
   }
   // === player 2 ==================================================
   if (globalplayer2teecolor == "white") {
      document.getElementById("p2slope").innerText = globalwhiteslope;
         document.getElementById("p2ci").innerText = globalwhiteci;
   }
   if (globalplayer2teecolor == "yellow") {
      document.getElementById("p2slope").innerText = globalyellowslope;
         document.getElementById("p2ci").innerText = globalyellowci;
   }
   if (globalplayer2teecolor == "red") {
      document.getElementById("p2slope").innerText = globalredslope;
         document.getElementById("p2ci").innerText = globalredci;
   }
   // === player 3 ==================================================
   if (globalplayer3teecolor == "white") {
      document.getElementById("p3slope").innerText = globalwhiteslope;
         document.getElementById("p3ci").innerText = globalwhiteci;
   }
   if (globalplayer3teecolor == "yellow") {
      document.getElementById("p3slope").innerText = globalyellowslope;
         document.getElementById("p3ci").innerText = globalyellowci;
   }
   if (globalplayer3teecolor == "red") {
      document.getElementById("p3slope").innerText = globalredslope;
         document.getElementById("p3ci").innerText = globalredci;
   }
   // === player 4 ==================================================
   if (globalplayer4teecolor == "white") {
      document.getElementById("p4slope").innerText = globalwhiteslope;
         document.getElementById("p4ci").innerText = globalwhiteci;
   }
   if (globalplayer4teecolor == "yellow") {
      document.getElementById("p4slope").innerText = globalyellowslope;
         document.getElementById("p4ci").innerText = globalyellowci;
   }
   if (globalplayer4teecolor == "red") {
      document.getElementById("p4slope").innerText = globalredslope;
         document.getElementById("p4ci").innerText = globalredci;
   }       
         
 }      
         
         

         function doGetStrokes() {
   
         txt1 = "Player 1: \n" 
         txt2 = "Player 2: \n" 
         txt3 = "Player 3: \n" 
         txt4 = "Player 4: \n"
      
         // calculate strokes
         temp1hcp = document.getElementById("p1hcp").innerText
         temp2hcp = document.getElementById("p2hcp").innerText
         temp3hcp = document.getElementById("p3hcp").innerText
         temp4hcp = document.getElementById("p4hcp").innerText
//=================================================================
// handicap index = temp1hcp (1 decimal place) eg 12.3
//=================================================================        
         temp1slope = document.getElementById("p1slope").innerText
         temp2slope = document.getElementById("p2slope").innerText
         temp3slope = document.getElementById("p3slope").innerText
         temp4slope = document.getElementById("p4slope").innerText   
//=================================================================
// course handicap to 2 decimal place - for display only
//=================================================================     
         ch1 = (roundToTwo(temp1hcp*temp1slope/113));
         ch2 = (roundToTwo(temp2hcp*temp2slope/113));
         ch3 = (roundToTwo(temp3hcp*temp3slope/113));
         ch4 = (roundToTwo(temp4hcp*temp4slope/113));
              
         ch10 = (roundToZero(temp1hcp*temp1slope/113));
         ch20 = (roundToZero(temp2hcp*temp2slope/113));
         ch30 = (roundToZero(temp3hcp*temp3slope/113));
         ch40 = (roundToZero(temp4hcp*temp4slope/113));
           
         txt1 +="course handicap = " +temp1hcp + " x " + temp1slope+ " / 113 = " + ch10 +"\n"    
         txt2 +="course handicap = " +temp2hcp + " x " + temp2slope+ " / 113 = " + ch20 +"\n"    
         txt3 +="course handicap = " +temp3hcp + " x " + temp3slope+ " / 113 = " + ch30 +"\n"    
         txt4 +="course handicap = " +temp4hcp + " x " + temp4slope+ " / 113 = " + ch40 +"\n"    
          
         adjhcp1 = roundToTwo(ch10 * 0.9);
         adjhcp2 = roundToTwo(ch20 * 0.9);
         adjhcp3 = roundToTwo(ch30 * 0.9);
         adjhcp4 = roundToTwo(ch40 * 0.9);
         
         txt1 += "90% allowance = " + ch10 + " x 90% = " + adjhcp1 + "\n"
         txt2 += "90% allowance = " + ch20 + " x 90% = " + adjhcp2 + "\n"
         txt3 += "90% allowance = " + ch30 + " x 90% = " + adjhcp3 + "\n"
         txt4 += "90% allowance = " + ch40 + " x 90% = " + adjhcp4 + "\n"
 
        

         // get course rating
         temp1cr = document.getElementById("p1ci").innerText;
         temp2cr = document.getElementById("p2ci").innerText;
         temp3cr = document.getElementById("p3ci").innerText;
         temp4cr = document.getElementById("p4ci").innerText;

         // find lowest course rating
         var lowestcr = Math.min(temp1cr, temp2cr, temp3cr, temp4cr);

         // get cr adjustment for each player
         var cr1 = roundToOne(temp1cr - lowestcr);
         var cr2 = roundToOne(temp2cr - lowestcr);
         var cr3 = roundToOne(temp3cr - lowestcr);
         var cr4 = roundToOne(temp4cr - lowestcr);
      
         txt1 += "course rating adjustment = " + cr1 + "\n"     
         txt2 += "course rating adjustment = " + cr2 + "\n"     
         txt3 += "course rating adjustment = " + cr3 + "\n"     
         txt4 += "course rating adjustment = " + cr3 + "\n"     
  
         hcp1cr = roundToTwo((adjhcp1 + cr1))
         hcp2cr = roundToTwo((adjhcp2 + cr2))
         hcp3cr = roundToTwo((adjhcp3 + cr3))
         hcp4cr = roundToTwo((adjhcp4 + cr4))

         // convert to strokes -ie. whole numbers
         // and ignore 0 hcp input 
         if (temp1hcp == "0") {      
             wholehcp1cr = 0
         } else {
             wholehcp1cr = roundToZero(hcp1cr)
         }
         
         if (temp2hcp == "0") {      
             wholehcp2cr = 0
         } else {
             wholehcp2cr = roundToZero(hcp2cr)
         }
         
         if (temp3hcp == "0") {      
             wholehcp3cr = 0
         } else {
             wholehcp3cr = roundToZero(hcp3cr)
         }

         if (temp4hcp == "0") {      
             wholehcp4cr = 0
         } else {
             wholehcp4cr = roundToZero(hcp4cr)
         }


         // find lowest strokes
         var arr1=[]
         if (wholehcp1cr > 0) {
             arr1.push(wholehcp1cr);
         }
         if (wholehcp2cr > 0) {
             arr1.push(wholehcp2cr);
         }
         if (wholehcp3cr > 0) {
             arr1.push(wholehcp3cr);
         }
         if (wholehcp4cr > 0) {
             arr1.push(wholehcp4cr);
         }
         
         loweststrokes = Math.min(...arr1);

         // get final strokes
         strokes1 = roundToZero(hcp1cr) - roundToZero(loweststrokes)
         strokes2 = roundToZero(hcp2cr) - roundToZero(loweststrokes)
         strokes3 = roundToZero(hcp3cr) - roundToZero(loweststrokes)
         strokes4 = roundToZero(hcp4cr) - roundToZero(loweststrokes)

         // update slider etc. with info
         tempstrokes1full = "course hcp = " + ch10 + ", playing hcp = " + roundToZero(hcp1cr);
         tempstrokes2full = "course hcp = " + ch20 + ", playing hcp = " + roundToZero(hcp2cr);
         tempstrokes3full = "course hcp = " + ch30 + ", playing hcp = " + roundToZero(hcp3cr);
         tempstrokes4full = "course hcp = " + ch40 + ", playing hcp = " + roundToZero(hcp4cr);

         // show in slider window      
         document.getElementById("demo1").innerText = tempstrokes1full 
         document.getElementById("demo2").innerText = tempstrokes2full 
         document.getElementById("demo3").innerText = tempstrokes3full 
         document.getElementById("demo4").innerText = tempstrokes4full 

//=================================================================
// show strokes in main window
//=================================================================     
         if (temp1hcp !== "0") {         
             document.getElementById("p1calchcp").innerText = strokes1;
         }
         if (temp2hcp !== "0") {
             document.getElementById("p2calchcp").innerText = strokes2;
         }
         if (temp3hcp !== "0") {
             document.getElementById("p3calchcp").innerText = strokes3;
         }
         if (temp4hcp !== "0") {
             document.getElementById("p4calchcp").innerText = strokes4;
         }






         txt1 += "playing hcp = " + adjhcp1 + " + " + cr1 +
                 " = " + hcp1cr + " = " + roundToZero(hcp1cr) + "\n"
         txt2 += "playing hcp = " + adjhcp2 + " + " + cr2 +
                 " = " + hcp2cr + " = " + roundToZero(hcp2cr) + "\n"
         txt3 += "playing hcp = " + adjhcp3 + " + " + cr3 +
                 " = " + hcp3cr + " = " + roundToZero(hcp3cr) + "\n"
         txt4 += "playing hcp = " + adjhcp4 + " + " + cr4 +
                 " = " + hcp4cr + " = " + roundToZero(hcp4cr) + "\n"

         
         //if (strokes1 < 0) {
         if (temp1hcp == 0) {
             txt1 += "strokes not yet available" + "\n\n"
         } else {
             txt1 += "strokes = " + roundToZero(hcp1cr) + " - lowest (" + loweststrokes + ") = " +
             strokes1 + "\n\n"
         }
         
         //if (strokes2 < 0) {
         if (temp2hcp == 0) {
             txt2 += "strokes not yet available" + "\n\n"
         } else {
             txt2 += "strokes = " + roundToZero(hcp2cr) + " - lowest (" + loweststrokes + ") = " +
             strokes2 + "\n\n"
         }         
 
         //if (strokes3 < 0) {
         if (temp3hcp == 0) {
             txt3 += "strokes not yet available" + "\n\n"
         } else {
             txt3 += "strokes = " + roundToZero(hcp3cr) + " - lowest (" + loweststrokes + ") = " +
             strokes3 + "\n\n"
         }
      
         //if (strokes4 == 0) {
         if (temp4hcp == 0) {
             txt4 += "strokes not yet available" + "\n\n"
         } else {
             txt4 += "strokes = " + roundToZero(hcp4cr) + " - lowest (" + loweststrokes + ") = " +
             strokes4 + "\n\n"
         }

         document.getElementById("calcs1").innerText = txt1;
         document.getElementById("calcs2").innerText = txt2;
         document.getElementById("calcs3").innerText = txt3;
         document.getElementById("calcs4").innerText = txt4;

}
         

   function getteecolor(id) {
   var temptee = id.replace("tee","xteecolors");

   if (document.getElementById(temptee).style.display !== "table-row") {
            document.getElementById(temptee).style.display = "table-row";
          } else {
            document.getElementById(temptee).style.display = "none";
          }

   }

   function teecolor(id) {

      color = id.substring(0,id.length - 1);
      hole = id.substring(id.length - 1);


      if (color == "white") {
         document.getElementById("p" + hole + "slope").innerText =  globalwhiteslope;
         document.getElementById("p" + hole + "ci").innerText =  globalwhiteci;   

         document.getElementById("tee" + hole).style.background = "white";
         document.getElementById("tee" + hole).style.color = "blue";

      }
      if (color == "yellow") {
         document.getElementById("p" + hole + "slope").innerText =  globalyellowslope;
         document.getElementById("p" + hole + "ci").innerText =  globalyellowci;   
      
         document.getElementById("tee" + hole).style.background = "yellow";
         document.getElementById("tee" + hole).style.color = "blue";
      }
      if (color == "red") {
         document.getElementById("p" + hole + "slope").innerText =  globalredslope;
         document.getElementById("p" + hole + "ci").innerText =  globalredci;

         document.getElementById("tee" + hole).style.background = "red";   
         document.getElementById("tee" + hole).style.color = "blue";
      }

      if (hole == "1") {
         	globalplayer1teecolor = color;
      }	
      if (hole == "2") {
         	globalplayer2teecolor = color;
      }
      if (hole == "3") {
         	globalplayer3teecolor = color;
      }
      if (hole == "4") {
         	globalplayer4teecolor = color;
      }

      // close colors
      document.getElementById("xteecolors" + hole).style.display = "none";

      // update info and calcs
      doGetStrokes()

   }

function closeslider(id) {
   // close slider
  document.getElementById(id).style.display = "none";
}	



      </script>
   </body>
</html>
