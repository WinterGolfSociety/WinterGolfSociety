<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <meta content="width=device-width, initial-scale=1.0" name="viewport">
      <meta content="ie=edge" http-equiv="X-UA-Compatible">
      <title>score</title>
      <style>
         * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         }
         body {
         color: white;
         background-color: gainsboro;
         font-family: Arial, Helvetica, sans-serif;
         
         
        // overflow: hidden;
          overflow-y: hidden;
         
         }
         .container {
         display: grid;
         grid-template-columns: repeat(3, 100%);
         will-change: transform;
         align-content: center;
         overflow-x: auto;
         

         
         
         
         scroll-snap-type: x mandatory;
         -webkit-overflow-scrolling: touch;
         }
         .pagecard {
         width: 100vw;
         height: 98vh; //100vh;
         
         padding-left: 1vw;
           padding-right: 1vw;
         
         overflow: hidden;
         display: flex;
         box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
         background-color: cyan;
         scroll-snap-align: start;
         scroll-snap-stop: always;
         }
         .table1 {
//         width: 50vw;
 //        height: 100vh;
//         display: flex;
        //margin-top: 100px;
   //     padding-top: 0;
        
        display: flex; 
         justify-content: top;
       
         }
         #test, #test3 {
         background: cyan;
         color: blue;
         font-size: 150px;
         }
         #test2, #test4 {
         background: dodgerBlue;
         color: yellow;
         font-size: 150px;
         }
         .hole {
         border-width: thick;
         border-color: red;
         background: cyan; 
         width:98vw;  
         height: 8vh;
         border-radius: 3px;
         padding-left: 1vw;
         padding-right: 1vw;
         }
         .stdtable {
         height: 80vh;
         }
         .tr1 {
         background: dodgerBlue;
         
         }
         .plus {
         font-size: 50px;
         color: white;
         width: 38vw;
         padding-right: 2vw;
         padding-left: 20vw;
         display: flex; 
         justify-content: center;
         float: right;
         }
         .minus {
         font-size: 50px;
         color: white;
         width: 38vw;
         padding-left: 2vw;
         padding-right: 20vw;
         display: flex; 
         justify-content: center; 
         float: left;
         }
         .num {
         font-size: 15px;
         padding-top: 20px;
         color: white;
         width: 20vw;
         float: left;
         display: flex; 
         justify-content: center;
         
         
         background: red;
         
         }
         
         .hide {
         opacity: 0 !important;
         }
         @keyframes animate-color {
         0% {background: dodgerBlue;}
         50% {background:cyan;}
         100% {background:dodgerBlue;}
         }
         .dropbtn {
         color: white;
         cursor: pointer;
         width: 98vw; 
         height:10vh;
         font-size: 20px;
         background: dodgerBlue;
         border-radius: 3px;
         //box-shadow: 10px 10px 25px black;
         border: none;  
         }
         .dropdown {
         position: relative;
         display: inline-block;
         width:90%;
         height:100%;
         }
         .dropdown-content {
         display: none;
         position: absolute;
         background-color: #f1f1f1;
         min-width: 160px;
         overflow: auto;
         box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
         z-index: 1;
         border-radius: 3px;
         box-shadow: 10px 10px 25px black;
         }
         .dropdown-content a {
         color: black;
         padding: 12px 16px;
         text-decoration: none;
         display: block;
         }
         .show {display: block;}     
         #submit, #test {
         color: white;
         cursor: pointer;
         width: 100%; 
         height:100%;
         font-size: 50px;
         background: dodgerBlue;
         border-radius: 3px;
         box-shadow: 10px 10px 25px black; 
         border: none;
         }
         #cbb, #sfb {
         height:150px;
         }
         #countbackbutton {
         color: white;
         cursor: pointer;
         width: 100%; 
         height:100%;
         font-size: 20px;
         background: dodgerBlue;
         border-radius: 3px;
         box-shadow: 10px 10px 25px black;  
         border: none;
         }
         #submit:hover {
         animate-color 0.5s forwards;
         -webkit-animation: animate-color 0.5s forwards;
         }
         #my-form, #my-response-iframe { 
         display: none; 
         } 
         .yellow {
         font-size: 20px;
         color: yellow; 	
         }
         .cyan {
         font-size: 20px;
         color: cyan; 	
         }
         #cb1, #cb3, #cb6, #cb9, #cb1txt, #cb3txt, #cb6txt, #cb9txt {
         color: cyan; //white;
         font-size: 25px;
         }
         .wrapper {
         height: 9vh;
         background: dodgerBlue;
         }
        
         #setup {
           background: darkSlateGray;
          
         }
       
      </style>
      <meta content="score input" name="description">
      <meta content="Bryan M" name="author">
      <link href="favicon.ico" rel="icon" type="image/x-icon">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js"></script>
   </head>
   <body>
 <div class="container">
      <div class="pagecard" id="setup">
     <!--    <div class="xxxxxleft">   -->
     
     
     
     
                   
                      
                      
     
     
     
     
            <table class="table1">
               <caption></caption>
               <thead>
                  <tr>
                     <th></th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="tr0">
                     <td>
                        <button onclick="myFunction();" class="dropbtn" id="dropbtn">select player</button>
                        <div id="myDropdown" class="dropdown-content">;
                           <a id="myLink1" href="#" onclick='dropSelected(this.innerText);return false;'>Graham Airey</a>
                           <a id="myLink2" href="#" onclick='dropSelected(this.innerText);return false;'>Dale Aitkenhead</a>
                           <a id="myLink3" href="#" onclick='dropSelected(this.innerText);return false;'>Paul Burt</a>
                           <a id="myLink4" href="#" onclick='dropSelected(this.innerText);return false;'>Craig Caesar</a>
                           <a id="myLink5" href="#" onclick='dropSelected(this.innerText);return false;'>Trevor Charlton</a>
                           <a id="myLink6" href="#" onclick='dropSelected(this.innerText);return false;'>Neil Coxon</a>
                           <a id="myLink7" href="#" onclick='dropSelected(this.innerText);return false;'>Paul Durance</a>
                           <a id="myLink8" href="#" onclick='dropSelected(this.innerText);return false;'>Richard Hedley</a>
                           <a id="myLink9" href="#" onclick='dropSelected(this.innerText);return false;'>Clive Herbert</a>
                           <a id="myLink10" href="#" onclick='dropSelected(this.innerText);return false;'>Eddie Hicks</a>
                           <a id="myLink11" href="#" onclick='dropSelected(this.innerText);return false;'>Peter Holleran</a>
                           <a id="myLink12" href="#" onclick='dropSelected(this.innerText);return false;'>Jim Little</a>
                           <a id="myLink13" href="#" onclick='dropSelected(this.innerText);return false;'>Bryan Maddison</a>
                           <a id="myLink14" href="#" onclick='dropSelected(this.innerText);return false;'>Bob Nicholas</a>
                           <a id="myLink15" href="#" onclick='dropSelected(this.innerText);return false;'>Trevor Ord</a>
                           <a id="myLink16" href="#" onclick='dropSelected(this.innerText);return false;'>Brian Simpson</a>
                        </div>
                     </td>
                     </tr?
                     
                     <tr>
                     <td>
                     <div>
                      
                      
                      
                      
                      
                      
                      <div class="ccontainer">
                  <!--
                     <img style="position: absolute; top: 10vh; right: 3vw; border: 0; height: 100px; width: 100px;" src="swipe-right.png" alt="swipe right">
                     -->
                  <img src="swipe-right-white.png" alt="swipe" style="position: absolute; top: 6vh; right: 3vw; height: 85px; width: 85px;">
              <!--
                  <div class="centered">your round</div>
               -->
               </div>
                      
                     </div> 
                      
                      
                      
                     </td>
                     </tr>
                     
                     
                     <tr>
                      
                     <td>
                      
                      <br>
                      <br>
                      <br>
                      
                      
                      <div class="wrapper">
                      <div id="playernamelookup">hcp goes here</div>
                      
                      </div>
                      
                     </td>
                     
                  </tr>
               </tbody>
 </table> 
      <!--              </div> -->
      </div>
      
      
      
   <div class="pagecard" id="front">
      
      
      <div class="left">
         <table class="table2">
            <caption></caption>
            <thead>
               <tr>
                  <th></th>
               </tr>

            </thead>
            <tbody>
               <tr class="tr1">
                  <td>
                     <div class="wrapper">
                        <span class="minus" id="minusscore1" onclick='decrementScore("numscore1")'>-</span>
                        <span class="num" id="numscore1">hole 1</span>
                        <span class="plus" id="plusscore1" onclick='incrementScore("numscore1");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore2" onclick='decrementScore("numscore2")'>-</span>
                        <span class="num" id="numscore2">hole 2</span>
                        <span class="plus" id="plusscore2" onclick='incrementScore("numscore2");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore3" onclick='decrementScore("numscore3")'>-</span>
                        <span class="num" id="numscore3">hole 3</span>
                        <span class="plus" id="plusscore3" onclick='incrementScore("numscore3");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore4" onclick='decrementScore("numscore4")'>-</span>
                        <span class="num" id="numscore4">hole 4</span>
                        <span class="plus" id="plusscore4" onclick='incrementScore("numscore4");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore5" onclick='decrementScore("numscore5")'>-</span>
                        <span class="num" id="numscore5">hole 5</span>
                        <span class="plus" id="plusscore5" onclick='incrementScore("numscore5");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore6" onclick='decrementScore("numscore6")'>-</span>
                        <span class="num" id="numscore6">hole 6</span>
                        <span class="plus" id="plusscore6" onclick='incrementScore("numscore6");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore7" onclick='decrementScore("numscore7")'>-</span>
                        <span class="num" id="numscore7">hole 7</span>
                        <span class="plus" id="plusscore7" onclick='incrementScore("numscore7");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore8" onclick='decrementScore("numscore8")'>-</span>
                        <span class="num" id="numscore8">hole 8</span>
                        <span class="plus" id="plusscore8" onclick='incrementScore("numscore8");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore9" onclick='decrementScore("numscore9")'>-</span>
                        <span class="num" id="numscore9">hole 9</span>
                        <span class="plus" id="plusscore9" onclick='incrementScore("numscore9");'>+</span>
                     </div>
                  </td>
               </tr>
            </tbody>
         </table>
      </div>
      
      
   </div>
      
      
      
      
      
      
      
      
      
      
      
      
      
          
   <div class="pagecard" id="front">
      
      
      <div class="left">
         <table class="table3">
            <caption></caption>
            <thead>
               <tr>
                  <th></th>
               </tr>

            </thead>
            <tbody>
               <tr class="tr1">
                  <td>
                     <div class="wrapper">
                        <span class="minus" id="minusscore1" onclick='decrementScore("numscore10")'>-</span>
                        <span class="num" id="numscore10">hole 10</span>
                        <span class="plus" id="plusscore1" onclick='incrementScore("numscore10");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore11" onclick='decrementScore("numscore11")'>-</span>
                        <span class="num" id="numscore11">hole 11</span>
                        <span class="plus" id="plusscore11" onclick='incrementScore("numscore11");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore12" onclick='decrementScore("numscore12")'>-</span>
                        <span class="num" id="numscore12">hole 12</span>
                        <span class="plus" id="plusscore12" onclick='incrementScore("numscore12");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore13" onclick='decrementScore("numscore13")'>-</span>
                        <span class="num" id="numscore13">hole 13</span>
                        <span class="plus" id="plusscore13" onclick='incrementScore("numscore13");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore14" onclick='decrementScore("numscore14")'>-</span>
                        <span class="num" id="numscore14">hole 14</span>
                        <span class="plus" id="plusscore14" onclick='incrementScore("numscore14");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore15" onclick='decrementScore("numscore15")'>-</span>
                        <span class="num" id="numscore15">hole 15</span>
                        <span class="plus" id="plusscore15" onclick='incrementScore("numscore15");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore16" onclick='decrementScore("numscore16")'>-</span>
                        <span class="num" id="numscore16">hole 16</span>
                        <span class="plus" id="plusscore16" onclick='incrementScore("numscore16");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore17" onclick='decrementScore("numscore17")'>-</span>
                        <span class="num" id="numscore17">hole 17</span>
                        <span class="plus" id="plusscore17" onclick='incrementScore("numscore17");'>+</span>
                     </div>
                  </td>
               </tr>
               <tr class="tr1">
                  <td class="xtdright">
                     <div class="wrapper">
                        <span class="minus" id="minusscore18" onclick='decrementScore("numscore18")'>-</span>
                        <span class="num" id="numscore18">hole 18</span>
                        <span class="plus" id="plusscore18" onclick='incrementScore("numscore18");'>+</span>
                     </div>
                  </td>
               </tr>
            </tbody>
         </table>
      </div>
      
      
   </div> 
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
 </div>
      
      
      
      <br><br>
      <!-- form to construct data prior to submit -->
      <form action="https://docs.google.com/forms/d/e/1FAIpQLSfpwrHPvjjQiIN9a-cmxBrE6aaORO6yBG6cu7kGXN2piQygGw/formResponse"
         id="my-form" method="post" name="my-form" target="my-response-iframe">
         <!-- name, hcp, course -->
         <input id="mx2003556451" name="entry.2003556451" type="text" value="default">
         <input id="mx1532454185" name="entry.1532454185" type="text" value="default">
         <input id="mx428875568" name="entry.428875568" type="text" value="default">
         <!-- holes 1 to 9 score -->
         <input id="mx1306174258" name="entry.1306174258" type="text" value="default">
         <input id="mx1024942641" name="entry.1024942641" type="text" value="default">
         <input id="mx568424031" name="entry.568424031" type="text" value="default">
         <input id="mx282366893" name="entry.282366893" type="text" value="default">
         <input id="mx1389150313" name="entry.1389150313" type="text" value="default">
         <input id="mx1775556170" name="entry.1775556170" type="text" value="default">
         <input id="mx349500276" name="entry.349500276" type="text" value="default">
         <input id="mx643274554" name="entry.643274554" type="text" value="default">
         <input id="mx775193141" name="entry.775193141" type="text" value="default">
         <!-- holes 10 to 18 score -->
         <input id="mx139361628" name="entry.139361628" type="text" value="default"> 
         <input id="mx117381068" name="entry.117381068" type="text" value="default">
         <input id="mx215681049" name="entry.215681049" type="text" value="default"> 
         <input id="mx879551333" name="entry.879551333" type="text" value="default">
         <input id="mx692811717" name="entry.692811717" type="text" value="default">
         <input id="mx2028451995" name="entry.2028451995" type="text" value="default">  
         <input id="mx1271313293" name="entry.1271313293" type="text" value="default">
         <input id="mx112006379" name="entry.112006379" type="text" value="default">
         <input id="mx1439728916" name="entry.1439728916" type="text" value="default">
         <!-- holes 1 to 9 points -->
         <input id="mx1349672152" name="entry.1349672152" type="text" value="default">
         <input id="mx1987316709" name="entry.1987316709" type="text" value="default">
         <input id="mx330630509" name="entry.330630509" type="text" value="default">
         <input id="mx508495395" name="entry.508495395" type="text" value="default">
         <input id="mx1157412790" name="entry.1157412790" type="text" value="default">
         <input id="mx1214646986" name="entry.1214646986" type="text" value="default">
         <input id="mx576264834" name="entry.576264834" type="text" value="default">
         <input id="mx518074596" name="entry.518074596" type="text" value="default">
         <input id="mx509590122" name="entry.509590122" type="text" value="default">
         <!-- holes 10 to 18 points -->  
         <input id="mx1720114013" name="entry.1720114013" type="text" value="default">
         <input id="mx1743453161" name="entry.1743453161" type="text" value="default">
         <input id="mx288611329" name="entry.288611329" type="text" value="default">   
         <input id="mx47669545" name="entry.47669545" type="text" value="default"> 
         <input id="mx33173073" name="entry.33173073" type="text" value="default">
         <input id="mx1280921007" name="entry.1280921007" type="text" value="default">
         <input id="mx1548940919" name="entry.1548940919" type="text" value="default">
         <input id="mx135100134" name="entry.135100134" type="text" value="default">
         <input id="mx1074696692" name="entry.1074696692" type="text" value="default">
         <input type="submit">
      </form>
      <!-- google forms inserted here - invisible -->
      <iframe height="20" id="my-response-iframe" name="my-response-iframe"
         src="https://docs.google.com/forms/d/e/1FAIpQLSfpwrHPvjjQiIN9a-cmxBrE6aaORO6yBG6cu7kGXN2piQygGw/viewform?embedded=true"
         width="60"></iframe>
      <div id="completed"></div>
      <br>
      <br>
      <div id="not" class="yellow"></div>
      <br>
      <br>
      <button id="test" onClick="test()">test</button>
      <script>
       
         /*
         
         https://docs.google.com/forms/d/e/1FAIpQLSfpwrHPvjjQiIN9a-cmxBrE6aaORO6yBG6cu7kGXN2piQygGw/viewform?usp=pp_url
         &entry.2003556451=name
         &entry.1532454185=hcp
         &entry.428875568=course
         &entry.1306174258=h1
         &entry.1024942641=h2
         &entry.568424031=h3
         &entry.282366893=h4
         &entry.1389150313=h5
         &entry.1775556170=h6
         &entry.349500276=h7
         &entry.643274554=h8
         &entry.775193141=h9
         &entry.139361628=h10
         &entry.117381068=h11
         &entry.215681049=h12
         &entry.879551333=h13
         &entry.692811717=h14
         &entry.2028451995=h15
         &entry.1271313293=h16
         &entry.112006379=h17
         &entry.1439728916=h18
         &entry.1349672152=p1
         &entry.1987316709=p2
         &entry.330630509=p3
         &entry.508495395=p4
         &entry.1157412790=p5
         &entry.1214646986=p6
         &entry.576264834=p7
         &entry.518074596=p8
         &entry.509590122=p9
         &entry.1720114013=p10
         &entry.1743453161=p11
         &entry.288611329=p12
         &entry.47669545=p13
         &entry.33173073=p14
         &entry.1280921007=p15
         &entry.1548940919=p16
         &entry.135100134=p17
         &entry.1074696692=p18
         
         */	
         	
         
         	
         	
         var hcp = "22"  
         var player = "player"
         var course = "course" 
         var dday = "today"  
         var cback1 = 0
         var cback3 = 0
         var cback6 = 0
         var cback9 = 0
         var rslts = ""
         var completedEntries = "Scores entered for:<br><br>"
         
         // set course by day of week
         var options = {
         	       weekday: 'long',
         	       day: 'numeric',
         	       month: 'long',
         	       year: 'numeric'
         	   };
         const formatter = new Intl.DateTimeFormat('en-GB', options);
         const dd = formatter.format(new Date());  
             
         if (dd.indexOf("Monday") > -1) {
            dday = "Monday"
            course = "La Cala - Europa"
            document.getElementById("coursebtn").innerText = course          
         }  
            
         if (dd.indexOf("Tuesday") > -1) {
            dday = "Tuesday"
            course = "Alhaurin"
            document.getElementById("coursebtn").innerText = course
         }
         
         if (dd.indexOf("Wednesday") > -1) {
            dday = "Wednesday"
            course = "La Cala - Asia"
            document.getElementById("coursebtn").innerText = course
         }
         
         if (dd.indexOf("Thursday") > -1) {  
            dday = "Thursday"
            course = "La Cala - America"
            document.getElementById("coursebtn").innerText = course
         }
         
         
         // --- functions --- // 
         
         var incPoints = 0;
         var player="none";
         var playerDone = []
         var playerComplete = []
         var playerList = [
         "Graham Airey",
         "Dale Aitkenhead",
         "Paul Burt",
         "Craig Caesar",
         "Trevor Charlton",
         "Neil Coxon",
         "Paul Durance",
         "Richard Hedley",
         "Clive Herbert",
         "Eddie Hicks",
         "Peter Holleran",
         "Jim Little",
         "Bryan Maddison",
         "Bob Nicholas",
         "Trevor Ord",
         "Brian Simpson"];
         
         //recoverTempData("recover")
         
         
         
         
         
         
         
         
         function recoverTempData(what) {
         // allows the current state of prorress to be carried across restarts	
         // save and restore progress by updating the global variables	
         // globals - as defined
         	
         // var completedEntries = "Scores entered for:<br><br>"
         // var playerDone = []
         // var playerComplete = []
         
         if (what == "save") {
         
         	if (storedcourse == course || storedcourse == null){ 
         	
         		localStorage.course = course;
         		localStorage.playerDone = JSON.stringify(playerDone);
         		localStorage.playerComplete = JSON.stringify(playerComplete);
         		localStorage.completedEntries = JSON.stringify(completedEntries);
         		
         	}
         }
         
         
         if (what == "recover") {	
         	
         	var storedcourse = localStorage.course;
         	
         	if (storedcourse !== course){
         		// new course so clear local storage
         		localstorage.clear
         	}
         	
         	if (storedcourse == course){ 
         	
         		playerDone = JSON.parse(localStorage.playerDone);
         		playerComplete = JSON.parse(localStorage.playerComplete);
         		completedEntries = JSON.parse(localStorage.completedEntries);
         		
         		var array3 = playerList.filter(function(obj) { 
         			return playerDone.indexOf(obj) == -1; 
         		});
         
         		var not = "not yet recorded (" +  + array3.length + ")<br>" 
         	
         		for (i = 0; i < array3.length; i++) {
         			not = not + "<br>" + array3[i] 
         		}
         		document.getElementById("not").innerHTML = not 
         	
         		var dn=""
         		playerComplete.sort()
         		playerComplete.reverse()
            
         		for (j = 0; j < playerComplete.length; j++) {
         			dn = dn + "<br>" + playerComplete[j] 
         		}
         		document.getElementById("completed").innerHTML = dn  
         		
         	}
         
         }
         
         }
         
         
         
         
         
         function calcCbs() {
         var cb9=0;
         var cb6=0;
         var cb3=0;
         var cb1=0;
         
         cb1 = parseInt(document.getElementById("aaap18").value);	
         
         cb3 = cb3 + parseInt(document.getElementById("aaap16").value);	
         cb3 = cb3 + parseInt(document.getElementById("aaap17").value);		
         cb3 = cb3 + cb1
         
         cb6 = cb6 + parseInt(document.getElementById("aaap13").value);	
         cb6 = cb6 + parseInt(document.getElementById("aaap14").value);	
         cb6 = cb6 + parseInt(document.getElementById("aaap15").value);	
         cb6 = cb6 + cb3
         
         cb9 = cb9 + parseInt(document.getElementById("aaap10").value);	
         cb9 = cb9 + parseInt(document.getElementById("aaap11").value);	
         cb9 = cb9 + parseInt(document.getElementById("aaap12").value);	
         cb9 = cb9 + cb6
         
         document.getElementById("cb9txt").innerText = "countback 9 = "
         document.getElementById("cb9").innerText = cb9
         
         document.getElementById("cb6txt").innerText = "countback 6 = "
         document.getElementById("cb6").innerText = cb6
            
         document.getElementById("cb3txt").innerText = "countback 3 = "
         document.getElementById("cb3").innerText = cb3
            
         document.getElementById("cb1txt").innerText = "countback 1 = "
         document.getElementById("cb1").innerText = cb1      
         
         
         // do front 9, back 9 and total
         front = parseInt(document.getElementById("aaap1").value);
         front = front + parseInt(document.getElementById("aaap2").value);
         front = front + parseInt(document.getElementById("aaap3").value);
         front = front + parseInt(document.getElementById("aaap4").value);
         front = front + parseInt(document.getElementById("aaap5").value);
         front = front + parseInt(document.getElementById("aaap6").value);
         front = front + parseInt(document.getElementById("aaap7").value);
         front = front + parseInt(document.getElementById("aaap8").value);
         front = front + parseInt(document.getElementById("aaap9").value);
         
         back = cb9
         document.getElementById("aaapout").innerText = front  
         document.getElementById("aaapback").innerText = back  
         
         
         
         frontscore = parseInt(document.getElementById("aaac1").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac2").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac3").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac4").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac5").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac6").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac7").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac8").innerText);
         frontscore = frontscore + parseInt(document.getElementById("aaac9").innerText);
         
         backscore = parseInt(document.getElementById("aaac10").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac11").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac12").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac13").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac14").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac15").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac16").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac17").innerText);
         backscore = backscore + parseInt(document.getElementById("aaac18").innerText);
         
         document.getElementById("aaasout").innerText = frontscore  
         document.getElementById("aaasback").innerText = backscore  
         
         totalpoints = front + back
         totalscore = frontscore + backscore
         
         document.getElementById("aaatotalpoints").innerText = totalpoints  
         document.getElementById("aaatotalscore").innerText = totalscore  
         
         }
         
         
         
         
         
         
         
         
         function dropSelected(playerName) {
             
            player = playerName
            
           // replace button name
           element = document.getElementById("dropbtn") 
           element.innerText =  player
           
           
           
  
           
           
           
           
         
           var dropdowns = document.getElementsByClassName("dropdown-content");
             var i;
             for (i = 0; i < dropdowns.length; i++) {
               var openDropdown = dropdowns[i];
               if (openDropdown.classList.contains('show')) {
                 openDropdown.classList.remove('show');
               }
             }
             
             
             
               doGetHCP();       
             
             
             
             
             
         }
         
         function dropSelectedCourse(courseName) {
             
            course = courseName
            
           // replace button name
           element = document.getElementById("dropbtnCourse") 
           element.innerText =  course 
           
           var dropdowns = document.getElementsByClassName("dropdown-contentCourse");
             var i;
             for (i = 0; i < dropdowns.length; i++) {
               var openDropdown = dropdowns[i];
               if (openDropdown.classList.contains('show')) {
                 openDropdown.classList.remove('show');
               }
             }
           
         }
         
         // When the user clicks on the button, 
         // toggle between hiding and showing the dropdown content 
         function myFunction() {
           document.getElementById("myDropdown").classList.toggle("show");
         }
         
         function myFunctionCourse() {
           document.getElementById("myDropdownCourse").classList.toggle("show");
         }
         
         function submitForm() {
            // get the relevant info into a form
         
            //var z=parseInt(document.getElementById('scoreaaa').innerText)
         
            //-- name --
            document.getElementById("mx2003556451").value = player
            
            //-- hcp --
            document.getElementById("mx1532454185").value = hcp
            
            //-- course --
            document.getElementById("mx428875568").value = course
             
            //-- hole1 --
            document.getElementById("mx1306174258").value = parseInt(document.getElementById("aaac1").innerText)
            //-- hole2 --
            document.getElementById("mx1024942641").value = parseInt(document.getElementById("aaac2").innerText)
            //-- hole3 --
            document.getElementById("mx568424031").value = parseInt(document.getElementById("aaac3").innerText)
            //-- hole4 --
            document.getElementById("mx282366893").value = parseInt(document.getElementById("aaac4").innerText)
            //-- hole5 --
            document.getElementById("mx1389150313").value = parseInt(document.getElementById("aaac5").innerText)
            //-- hole6 --
            document.getElementById("mx1775556170").value = parseInt(document.getElementById("aaac6").innerText)
            //-- hole7 --
            document.getElementById("mx349500276").value = parseInt(document.getElementById("aaac7").innerText)
            //-- hole8 --
            document.getElementById("mx643274554").value = parseInt(document.getElementById("aaac8").innerText)
            //-- hole9 --
            document.getElementById("mx775193141").value = parseInt(document.getElementById("aaac9").innerText)
            
            
            
            //-- hole10 --
            document.getElementById("mx139361628").value = parseInt(document.getElementById("aaac10").innerText)
            //-- hole11 --
            document.getElementById("mx117381068").value = parseInt(document.getElementById("aaac11").innerText)
            //-- hole12 --
            document.getElementById("mx215681049").value = parseInt(document.getElementById("aaac12").innerText)
            //-- hole13 --
            document.getElementById("mx879551333").value = parseInt(document.getElementById("aaac13").innerText)
            //-- hole14 --
            document.getElementById("mx692811717").value = parseInt(document.getElementById("aaac14").innerText)
            //-- hole15 --
            document.getElementById("mx2028451995").value = parseInt(document.getElementById("aaac15").innerText)
            //-- hole16 --
            document.getElementById("mx1271313293").value = parseInt(document.getElementById("aaac16").innerText)
            //-- hole17 --
            document.getElementById("mx112006379").value = parseInt(document.getElementById("aaac17").innerText)
            //-- hole18 --
            document.getElementById("mx1439728916").value = parseInt(document.getElementById("aaac18").innerText)
            
            //-- points1 --
            document.getElementById("mx1349672152").value = parseInt(document.getElementById("aaap1").value)
            //-- points2 --
            document.getElementById("mx1987316709").value = parseInt(document.getElementById("aaap2").value)
            //-- points3 --
            document.getElementById("mx330630509").value = parseInt(document.getElementById("aaap3").value)
            //-- points4 --
            document.getElementById("mx508495395").value = parseInt(document.getElementById("aaap4").value)
            //-- points5 --
            document.getElementById("mx1157412790").value = parseInt(document.getElementById("aaap5").value)
            //-- points6 --
            document.getElementById("mx1214646986").value = parseInt(document.getElementById("aaap6").value)
            //-- points7 --
            document.getElementById("mx576264834").value = parseInt(document.getElementById("aaap7").value)
            //-- points8 --
            document.getElementById("mx518074596").value = parseInt(document.getElementById("aaap8").value)
            //-- points9 --
            document.getElementById("mx509590122").value = parseInt(document.getElementById("aaap9").value)
            
            
          
         
            //-- points10 --
            document.getElementById("mx1720114013").value = parseInt(document.getElementById("aaap10").value)
            //-- points11 --
            document.getElementById("mx1743453161").value = parseInt(document.getElementById("aaap11").value)
            //-- points12 --
            document.getElementById("mx288611329").value = parseInt(document.getElementById("aaap12").value)
            //-- points13 --
            document.getElementById("mx47669545").value = parseInt(document.getElementById("aaap13").value)
            //-- points14 --
            document.getElementById("mx33173073").value = parseInt(document.getElementById("aaap14").value)
            
            
            
            
            
            
            
            //-- points15 --
            document.getElementById("mx1280921007").value = parseInt(document.getElementById("aaap15").value)
            //-- points16 --
            document.getElementById("mx1548940919").value = parseInt(document.getElementById("aaap16").value)
            //-- points17 --
            document.getElementById("mx135100134").value = parseInt(document.getElementById("aaap17").value)
            //-- points18 --
            document.getElementById("mx1074696692").value = parseInt(document.getElementById("aaap18").value)
            
            
            // check data is complete 
            var checkBeforeSubmit=0
            var checkBeforeSubmitID=""
            //-- player --
            if (document.getElementById("mx2003556451").value == "none") {
         	   checkBeforeSubmit++
         	   checkBeforeSubmitID=checkBeforeSubmitID + "player" + "\n"
            }
            //-- hcp --
            if (document.getElementById("mx1532454185").value == "") {
                checkBeforeSubmit++
         	   checkBeforeSubmitID=checkBeforeSubmitID + "hcp" + "\n"
            }
            //-- course --
            if (document.getElementById("mx428875568").value == "course") {
                checkBeforeSubmit++
         	   checkBeforeSubmitID=checkBeforeSubmitID + "course" + "\n"
            }
            
            
         
            
              
               
             
               
           
             checkBeforeSubmit=0  
               
           // submit if all OK
           if (checkBeforeSubmit === 0) {
         	
         	//===== submit data
         	document.forms[0].submit() 
         	
         	
         	// keep a record of completed entries
             completedEntries = completedEntries + z + " " + player + "<br>"
             document.getElementById("completed").innerHTML = completedEntries
             
             //increment array when player added
             playerDone.push(player)
             
             //increment array for later sorting
             playerComplete.push(z + " - " + player)
          
         	var array3 = playerList.filter(function(obj) { 
         		return playerDone.indexOf(obj) == -1; 
         	});
         
         	var not = "not yet recorded (" +  + array3.length + ")<br>" 
         	for (i = 0; i < array3.length; i++) {
         		not = not + "<br>" + array3[i] 
         	}
         
         	document.getElementById("not").innerHTML = not 
         
         	var dn=""
         	playerComplete.sort()
         	playerComplete.reverse()
            
         	for (j = 0; j < playerComplete.length; j++) {
         		dn = dn + "<br>" + playerComplete[j] 
         	}
         
         	document.getElementById("completed").innerHTML = dn  
         
         	// save onscreen info
         	recoverTempData("save")
         
         	// allow a method to clear local storage
         	if (z == "99") {
         		alert("local storage cleared")
         		localStorage.clear()
         	}
         
             } else {
         	   
         		alert("not valid so not submitted") 
             }
           
         } 
           
         function incrementTest(id) {
         	var incScore = document.getElementById(id).innerText;
         	if (incScore === "9") {
         		incScore = 8
         	}
             document.getElementById(id).innerText = ++incScore;
             
             if (incScore !== 0) {
         		// pointsCalc(hcp,par,si,score)
         		var temppoints = pointsCalc(22,4,12,incScore)
         	} else {
         		var temppoints = 0
         	}
             
             // find equivalent points id
         	var pointsID = id.replace("c","p")
             document.getElementById(pointsID).value = temppoints
         	
             calcCbs() 
         } 
           
           
         function decrementTest(id) {
         	incScore = document.getElementById(id).innerText;
         	if (incScore === "0") {
         		incScore = 1
         	}
             document.getElementById(id).innerText = --incScore;
             
             if (incScore !== 0) {
         		// pointsCalc(hcp,par,si,score)
         		var temppoints = pointsCalc(22,4,12,incScore)
         	} else {
         		var temppoints = 0
         	}
             
             // find equivalent points id
         	var pointsID = id.replace("c","p")
             document.getElementById(pointsID).value = temppoints
             
             calcCbs() 
         }  
           
         
       
function incrementScore(id) {
	incPoints = document.getElementById(id).innerText;
    if (incPoints.indexOf("hole") > -1){
        document.getElementById(id).style.fontSize = "50px";
        document.getElementById(id).style.paddingTop = 0;
        incPoints = 0
    }
    document.getElementById(id).innerText = ++incPoints;
} 
  
  
function decrementScore(id) {
	incPoints = document.getElementById(id).innerText;
    // if already at 0 say what hole it is
    if (incPoints == 0) {
        document.getElementById(id).style.fontSize = "15px";
        document.getElementById(id).style.paddingTop = "20px";
        holenum = id.replace("numscore","")
        document.getElementById(id).innerText = "hole " + holenum
    } else {
        if (incPoints.indexOf("hole") > -1){
            document.getElementById(id).style.fontSize = "50px";
            document.getElementById(id).style.paddingTop = 0;
            incPoints = 0
        }
    	if (incPoints > 0) {
        	--incPoints;
        }
        document.getElementById(id).innerText = incPoints;
    }
}  

 
         
         
         
         function pointsCalc(hcp,par,si,score) {
          
            // allowance   
            if (hcp > si) {
               allowance = 1 
            } 
            if (hcp > (18 + si)) {
               allowance = 2 
            } 
            if (hcp > (36 + si)) {
               allowance = 3 
            }   
         
            // points
         
            var points =  (par + allowance + 2) - score
            // remove negative numbers
            if (points < 0) {
               points = 0
            }
         
            return points
            
         }
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         function test() {
         
         // sort array by frequency of selection
         // ------------------------------------
         
         // check for a saved array
         // ?????
         
         alert("test started")
         
         
         var arr = [
         "Graham Airey",
         "Dale Aitkenhead",
         "Paul Burt",
         "Craig Caesar",
         "Trevor Charlton",
         "Neil Coxon",
         "Paul Durance",
         "Richard Hedley",
         "Clive Herbert",
         "Eddie Hicks",
         "Peter Holleran",
         "Jim Little",
         "Bryan Maddison",
         "Bob Nicholas",
         "Trevor Ord",
         "Brian Simpson"];
         
         var savedArr = [
         "Graham Airey",
         "Dale Aitkenhead",
         "Paul Burt",
         "Craig Caesar",
         "Trevor Charlton",
         "Neil Coxon",
         "Paul Durance",
         "Richard Hedley",
         "Clive Herbert",
         "Eddie Hicks",
         "Peter Holleran",
         "Jim Little",
         "Bryan Maddison",
         "Bob Nicholas",
         "Trevor Ord",
         ];
         
         
         alert(arr.length)
         // add any new names
         // ?????
         if (arr.length > savedArr.length) {
         	let difference = arr.filter(x => !savedArr.includes(x));
         	alert("difference = " + difference)
         }
         
         
         
         // create a counter object on array
         let counter = arr.reduce(
           (counter, key) => {
             counter[key] = 1 + counter[key] || 1;
             return counter
           }, {});
         alert("counter = " + counter[0]);
         // {"apples": 1, "oranges": 4, "bananas": 2}
         
         // sort counter by values (compare position 1 entries)
         // the result is an array
         let sorted_counter = Object.entries(counter).sort((a, b) => b[1] - a[1]);
         alert("sorted_counter = " + sorted_counter);
         // [["oranges", 4], ["bananas", 2], ["apples", 1]]
         
         // show only keys of the sorted array
         alert(sorted_counter.map(x => x[0]));
         // ["oranges", "bananas", "apples"]
         
         // save this as the array for next time
         
         
         }
         
         
         
         
         
         
         
         
            function getHCP(results) {
                //Data is usable here
                var strng1 = "not found";
                var strng2 = "not found";
                var datax = results.data;
                //search google sheets for info
                 document.getElementById("playernamelookup").innerText = "not found";
              //  alert(datax[5].player + " " + datax[5].hcp)
                
                
                for (i = 0; i < datax.length; i++) {
                    if (player == datax[i].player) {
                     strng1 = datax[i].player;
                     strng2 = datax[i].hcp;
                    }
                }
 
                document.getElementById("playernamelookup").innerText = strng1 + " it looks like your hcp is "+ strng2;

               
            }

            function doGetHCP() {
            //    btninfo = document.getElementById("hcplookup");
                 document.getElementById("playernamelookup").innerText = "started";
           //     btninfo.innerHTML = 'searching &nbsp;&nbsp;<img src="loading.jpg" alt="" width="20" height="20">';
                var public_hcp_url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR5UUmQIocKfgsPnXGZZW-kBqNNEgOIm8r4Wdn9wOWqAXHht-1iZCPSDcalB0bhAIUUR5Me7fBufma_/pub?gid=836261355&single=true&output=csv";

                Papa.parse(public_hcp_url, {
                    download: true,
                    header: true,
                    complete: getHCP,
                });
            }

         
         
         
         
  /*
   
  hcp list       
         
  https://docs.google.com/spreadsheets/d/e/2PACX-1vR5UUmQIocKfgsPnXGZZW-kBqNNEgOIm8r4Wdn9wOWqAXHht-1iZCPSDcalB0bhAIUUR5Me7fBufma_/pubhtml?gid=1210420478&single=true       
     
 
 hcpcsv    
     
   https://docs.google.com/spreadsheets/d/e/2PACX-1vR5UUmQIocKfgsPnXGZZW-kBqNNEgOIm8r4Wdn9wOWqAXHht-1iZCPSDcalB0bhAIUUR5Me7fBufma_/pub?gid=836261355&single=true&output=csv  
     
     
 all results
 
 https://docs.google.com/spreadsheets/d/e/2PACX-1vR5UUmQIocKfgsPnXGZZW-kBqNNEgOIm8r4Wdn9wOWqAXHht-1iZCPSDcalB0bhAIUUR5Me7fBufma_/pubhtml?gid=612102443&single=true
     
   
   
   
 twos
 
 https://docs.google.com/spreadsheets/d/e/2PACX-1vR5UUmQIocKfgsPnXGZZW-kBqNNEgOIm8r4Wdn9wOWqAXHht-1iZCPSDcalB0bhAIUUR5Me7fBufma_/pubhtml?gid=1266484079&single=true
   
     
         
   */      
         
         
         
         
      </script>
   </body>
</html>
}
