<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Winter2022-2023</title>
	<style>
   // set all elements to include borders etc.   
	*,
	*::before,
	*::after {
		box-sizing: border-box;
		-webkit-box-sizing: border-box;
	}
	
   html {
      background: #726b5e;
      background-image: url('golfergray.png');
      background-repeat: no-repeat;
      background-size: cover;   
   }
	body {
		font-family: sans-serif;
		margin: 0;
		padding: 10px;
		color: white;
	}
	
	.dropdownMenu {
		margin: 0;
		padding: 0;
		display: -webkit-box;
		display: -ms-flexbox;
		display: flex;
		-ms-flex-wrap: wrap;
		flex-wrap: wrap;
		list-style: none;
		background-color: DodgerBlue;
		color: white;
      width: 130px;
 		height: 50px;
		font-size: 20px;
		cursor: pointer;
		border-radius: 5px;
		border: 2px solid dodgerBlue;
		box-shadow: 10px 10px 25px black;
		white-space: nowrap;
	}
	
	.dropdownMenu li {
		position: relative;
	}
	
	.dropdownMenu li a {
		display: block;
		padding: 10% 15%;
		height: 50px;
		line-height: 25px;
		color: white;
		cursor: pointer;
		text-decoration: none;
	}
	
	.dropdownMenu li ul {
		position: absolute;
		margin: 0;
		padding: 0;
		list-style: none;
		width: 100%;
		left: 0;
		opacity: 0;
		visibility: hidden;
		-webkit-transition: all 1s ease;
		-o-transition: all 1s ease;
		transition: all 1s ease;
		height: 50px;
	}
	
	.dropdownMenu li ul li a {
		height: 50px;
		line-height: 25px;
		color: darkSlateGray;
	}
	
	.dropdownMenu li ul li a:hover {
		background-color: gray;
		color: white;
		height: 50px;
	}
	
	.dropdownMenu li:hover>ul {
		opacity: 1;
		visibility: visible;
	}
	
	.dropdownMenu li:hover>a {
		color: Gray;
	}
	
	.atitle {
		font-size: 50px;
	}
	
	.asubtitle {
		font-size: 18px;
	}
	
	.dropbtn:hover,
	.dropbtn:focus {
		background-color: DodgerBlue;
		color: white;
		outline: none;
	}
	
	.dropdown {
		position: relative;
		display: inline-block;
	}
	
	.dropdown-content {
		display: none;
		position: absolute;
		background-color: DodgerBlue;
		overflow: auto;
		z-index: 1;
	}
	
	.dropdown-content a {
		color: LightGray;
		padding: 5px 5px;
		text-decoration: none;
		display: block;
	}
	
	.dropdown a:hover {
		background-color: SlateGray;
		color: white;
	}
	
	.show {
		display: block;
	}

	.modalWhatsNew {
		display: none;
		position: fixed;
		z-index: 1;
		padding-top: 100px;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		background-color: dodgerBlue;
		background-color: rgba(0, 0, 0, 0.4);
	}
	
	.modalWhatsNew-content {
		background-color: dodgerBlue;
		margin: auto;
		padding: 20px;
		border: 1px solid #888;
		width: 80%;
		font-size: 15px;
		border-radius: 5px;
		border: 2px solid dodgerBlue;
		box-shadow: 10px 10px 25px black;
	}

	.close {
		color: #aaaaaa;
		float: right;
		font-size: 28px;
		font-weight: bold;
	}
	
	.close:hover,
	.close:focus {
		color: #000;
		text-decoration: none;
		cursor: pointer;
	}
	
	#dummyxxx {
		position: absolute;
		margin: 0;
		padding: 0;
		list-style: none;
		//width: 200px;
		left: 0;
		opacity: 0;
		visibility: hidden;
		-webkit-transform: scale(2);
		-ms-transform: scale(2);
		transform: scale(2);
		-webkit-transition: all 1s ease;
		-o-transition: all 1s ease;
		transition: all 1s ease;
		height: 80px;
		border-radius: 15px;
		box-shadow: 10px 10px 25px black;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
	}
	
	#txt {
		color: white;
		font-size: 15px;
      -webkit-transition: all 1s ease;
		-o-transition: all 1s ease;
		transition: all 1s ease;
	}
	
	#p-WhatsNew-content {
		color: white;
		font-size: 20px;
	}

	#menuItems {
		background-color: rgba(63, 255, 106, 0.7);
		padding-top: 10px;
      height: 25px;
      width: 100%;
	}
	
	#menuItems:hover {
		background-color: dodgerBlue;
	}
   
    
   #myInput, #myInputold {
  color: white;
  background: dodgerBlue;
  border: 2px solid white;
  width: 50%;
  font-size: 20px;
    list-style-type: none;
  padding: 0;
  margin: 0;
  padding: 2px 12px 2px 12px; //t,r,b,l
  outline: none;
   
}
    
 
    #myinputold:focus {
  background-color: lightblue;
     list-style-type: none;
  padding: 0;
  margin: 0;
   display: none;
   border: 2px solid cyan;
      
    }
    
    #myinputold:selected { 
    
    border: 2px solid cyan;
 }

#myUL, #myULold {
  list-style-type: none;
  padding: 0;
  margin: 0;
   display: none;
}

#myUL li a {
  border: 1px solid #ddd;
  margin-top: -1px; /* Prevent double borders */
  background-color: #f6f6f6;
  padding: 12px;
  text-decoration: none;
  font-size: 20px;
  color: black;
  display: block
}

#myUL li a:hover:not(.header) {
  background-color: #eee;
 
}

#myULold li a {
  border: 1px solid white;
  margin-top: -1px; /* Prevent double borders */
  background-color: #f6f6f6;
  padding: 12px;
  text-decoration: none;
  font-size: 20px;
  color: black;
  display: block
}

#myULold li a:hover:not(.header) {
  background-color: #eee;
 
}

#myA, #myAold {
    
  margin-top: -1px; /* Prevent double borders */
  padding: 2px 12px 2px 0px; //t,r,b,l
  text-decoration: none;
  font-size: 15px;
  color: white;
  display: block 
  background: dodgerBlue;
  width: 50%;
  font-size: 20px;
}

 .modalsearch {
		display: none;
		position: fixed;
		z-index: 1;
		padding-top: 100px;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		background-color: dodgerBlue;
		background-color: rgba(0, 0, 0, 0.4);   
	}
	
	.modalsearch-content {
		background-color: dodgerBlue;
		margin: auto;
		padding: 20px;
		border: 1px solid #888;
		width: 80%;
		font-size: 20px;
		border-radius: 5px;
		border: 2px solid dodgerBlue;
		box-shadow: 10px 10px 25px black;
	}
 
 .closesearch {
		color: #aaaaaa;
		float: right;
		font-size: 28px;
		font-weight: bold;
	}
	
	.closesearch:hover,
	.closesearch:focus {
		color: #000;
		text-decoration: none;
		cursor: pointer;
	}
 
 #closemenubutton {
  background-color: dodgerBlue;
  border: none;
  color: white;
  padding: 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  height: 100px;
  width: 100px;
  border-radius: 50%;
  box-shadow: 10px 10px 25px black;
  margin-left: 140px;
  visibility: hidden;
}

 #menubutton1 {
    width: 150px;
    color: white;
    background: dodgerblue;
    font-size: 20px;
    padding-top:10px;
    padding-bottom:10px;
    border-radius: 5px;
    box-shadow: 10px 10px 25px black;
    margin-left:20%;
    }
    
    
  #me1 {
   font-family: arial, sans-serif;
    font-size: 15px;
    color: white;  
     
  }  
    
    
   
	</style>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
	<meta name="description" content="Winter Golf Society" />
	<meta name="author" content="Bryan M" />
	<title>Winter Golf Society</title>
	<link rel="icon" type="image/x-icon" href="favicon.ico" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
   
   
   
   
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js">
</script>





</head>

<body>
	<div id="modalWhatsNew" class="modalWhatsNew">
		<div class="modalWhatsNew-content"> <span class="close">&times;</span>
			<p id="p-WhatsNew-content">Whats new ..
            <br>
            <br>general appearance changed.
            <br>real-time updates replace timed scripts where possible.
				<br>simplified menu with less options.
				<br>searches replacing long lists.
				<br>hcp adjustments immediately calculated so always current.
				<br>individual scorecard of each round by email.
				<br>score input changed. Easier to use and allows checking.
				<br>
				<br>Please feel free to report any problems/improvements etc.
            <br> </p>
		</div>
	</div>
	<div class="atitle"> <span class="asubtitle">.. a</span> Winter
		<input type='image' id='buttonWhatsNew' src='whatsnew.png' width='50' height='50' value='submit' />
		<br /> Golf Society
	</div>
	<br>
 
 
 
 
 
 
 
 
 
 
 <a id="me1">interogating remote server for latest hcp ..</a>
 <br><br>
 
 
 
 
 
 
 
 
 
 
 
 
	<!-- menu -->
	<ul class="dropdownMenu" onmouseover="vanish()" onmouseout="unvanish()">
		<li><a href="#">show menu</a>
			<ul>
            <!-- score entry -->
				<li><a href="scoreinputtest.html" id="menuItems">score entry</a></li>
			   
            <!-- results, with historic below ? -->
				<li><a href="javascript:allresults()" id="menuItems">results</a></li>
				
            <!-- player info, default to user -->
				<li><a href="javascript:testsmod()" id="menuItems">player info</a></li>
				
            <!-- hcp list -->
				<li><a href="javascript:hcplist()" id="menuItems">hcp list</a></li>
				
            <!-- twos -->
				<li><a href="javascript:twos()" id="menuItems">twos</a></li>
				
            <!-- my info -->
				<li><a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1796067805&single=true
" id="menuItems">my info</a></li>
				
			</ul>
		</li>
	</ul>
   
	<p id="txt">Dates:</p>
	<br>
	<br><a id="myAtest"></a>
   <button id="closemenubutton"></button>
	<br>
	<br>
  
<div id="modalsearch" class="modalsearch">
		<div class="modalsearch-content"> <span class="close">&times;</span>
			
Search for player
<br><br>
<input type="text" id="myInputold" onkeyup="myFunctionx()" placeholder="none">
<br>
<ul id="myULold">
  <li><a>empty</a></li>
</ul>
<br>
<a id="myAold">none</a>found .. 
<br><br><button id="menubutton1" onclick="b1button()">show info</button>

<br><br>  
      </div>
</div> 
 <br><br>
  
<script>

// non function() code so runs ..

var arr = ["dummy",
"Graham Airey",
"Dale Aitkenhead",
"Stephen Alldridge",
"Keith Belshaw",    
"Stewart Brodie",   
]

var x = "" 
// build values to search
for (var ii = 0; ii < arr.length; ii++) {  
x = x + '<li><p>' + arr[ii] + '</p></li>' 
}  

input = document.getElementById("myULold");
input.innerHTML = x
    
	var modal = document.getElementById("modalWhatsNew");
   //var modalsearch = document.getElementById("modalsearch");
	var btn = document.getElementById("buttonWhatsNew");
	var span0 = document.getElementsByClassName("close")[0];
   
   var span1 = document.getElementsByClassName("close")[1];
   
	var p = document.getElementById("p-WhatsNew-content");
	//modal.onclick = function() {
	//		modal.style.display = "none";
	//	}
   btn.onclick = function() {
			modal.style.display = "block";
		}
	span0.onclick = function() {
			modal.style.display = "none";
		}
   span1.onclick = function() {
			modalsearch.style.display = "none";
		}
	p.onclick = function() {
			modal.style.display = "none";
		}
	window.onclick = function(event) {
		if(event.target == modal) {
			modal.style.display = "none";
		}
	}





	var modalsearch = document.getElementById("modalsearch");
	var btnsearch = document.getElementById("myBtnsearch");
	var spansearch = document.getElementsByClassName("closesearch")[0];
	var psearch = document.getElementById("myPsearch");
//	modalsearch.onclick = function() {
//			modalsearch.style.display = "none";
//		}
//   btnsearch.onclick = function() {
//			modalsearch.style.display = "block";
//		}
//	spansearch.onclick = function() {
//			modalsearch.style.display = "none";
//		}
//	psearch.onclick = function() {
//			modalsearch.style.display = "none";
//		}
	window.onclick = function(event) {
		if(event.target == modalsearch) {
			modalsearch.style.display = "none";
		}
	}












	weeknumber()










function weeknumber() {
		currentdate = new Date();
		var oneJan = new Date(currentdate.getFullYear(), 0, 1);
		var numberOfDays = Math.floor((currentdate - oneJan) / (24 * 60 * 60 * 1000));
		var result = Math.ceil((currentdate.getDay() + 1 + numberOfDays) / 7);
      var diary = [" (Fridays 4th November 2022 to 31st March 2023) ",
      "",
      "Friday 7th October - Lakes", 
      "Friday 14th October - Lakes", 
      "Friday 21st October - Lakes", 
      "Friday 28th October - Lakes",
      "Friday 4th November - Dawson", 
      "Friday 11th November - Dawson",
      "Friday 18th November - Dawson",
      "Friday 25th November - Dawson",
      "Friday 2nd December - Lakes", 
      "Friday 9th December - Lakes"  
      ]
		var x = document.getElementById("txt");
		//xperm = diary[0];
      //x.innerText = xperm + "\n\n" + diary[result - 18] + "\n\n" + diary[result - 17] + "\n\n" + diary[result - 16] + "\n\n" + diary[result - 15] + "\n\n" + diary[result - 14]
      x.innerText = "upcoming dates:\n\n" + diary[result - 18] + "\n\n" + diary[result - 17] + "\n\n" + diary[result - 16] + "\n\n" + diary[result - 15]
	}

   function hcplist() {
      let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=0,height=0,left=-1000,top=-1000`;
      window.open("https://docs.google.com/spreadsheets/u/3/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1210420478&single=true","hcplist",params)
   }
   
   function allresults() {
      let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=0,height=0,left=-1000,top=-1000`;
      window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=612102443&single=true","allresults",params)
   }
   function twos() {
      let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=0,height=0,left=-1000,top=-1000`;
      window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1266484079&single=true","twos",params)
   }





/*   
 	function popup() {
		swal("Search for player:", {
			content: "input",
			buttons: true,
		}).then((value) => {
			value = doSearch(value);
			if(`${value}` !== 'undefined') {
				if(`${value}`.indexOf('found player named ') !== -1) {
					swal(`${value}`, {
					buttons: ["cancel", "show info"]
					}).then((showInfo) => {
                  alert(showInfo)
                  var xvalue = `${value}`.replace('found player named ',"")
                  if (showInfo){
                     displayPlayer(xvalue);
                  }
               })
 				} else {
					swal(`${value}`);
				}
			}
		});
	}

	function doSearch(plyr) {
		if(plyr !== "") {
			var arr = ['Peter Holleran', 'Tony Smith', 'Bryan Maddison', 'Bryan Smith', 'Dick Tracy'];
			var i;
			var j = 0;
			var wordIndex;
			var rrr = "nothing";
			for(i = 0; i < arr.length; i++) {
				wordIndex = arr[i].toLowerCase().indexOf(plyr.toLowerCase());
				if(wordIndex !== -1) {
					rrr = 'found player named ' + arr[i];
					j++
				}
			}
			if(j > 1) {
				rrr = "More than one match found. Refine your search to allow finding a unique selection.\n\nSearching ignores upper and lower case and looks for a player name that includes the search pattern."
			}
			return rrr
		}
	}
*/
   function displayPlayer(xvalue) {
   if (xvalue == "Bryan Maddison"){
      window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1796067805&single=true");
   }
   if (xvalue !== "Bryan Maddison"){
      // tony smith
      window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1288506359&single=true");
   }
   }

	function vanish() {
		var x = document.getElementById("txt");
		x.style.color = "#70695c"; //sepia type text
      
      
      var x = document.getElementById("closemenubutton");
      x.innerText="close menu"
      x.style.visibility = "visible";
      
	}

	function unvanish() {
		var x = document.getElementById("txt");
		x.style.color = "white";
      var x = document.getElementById("closemenubutton");
      x.innerText=""
      x.style.visibility = "hidden";
	}
  

 function smod() {
  input = document.getElementById("modalWhatsNewsearch");
  input.style.display = 'block';
 }  
   
  function testsmod() {
  input = document.getElementById("modalsearch");
  input.style.display = 'block';
  inputfocus = document.getElementById("myInputold");
  inputfocus.focus();
 } 
   
  function doInfo() {
   alert("doInfo")  
  } 
   

 /*  
  function myFunctiontest() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
            xx = document.getElementById("myAtest");           
            xx.innerText=txtValue            
        } else {
            li[i].style.display = "none";
        }
    }
} 
  
*/   
function myFunctionx() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInputold");
    if (input.value == ""){ 
       xx = document.getElementById("myAold");           
		 xx.innerText="none" 
    } else {
    
    filter = input.value.toUpperCase();
    ul = document.getElementById("myULold");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("p")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
         li[i].style.display = "";
			xx = document.getElementById("myAold");           
			xx.innerText=txtValue      
        } else { li[i].style.display = "none";}
    }
 }    
}

function b1button() {
   var b1x = document.getElementById("myAold");
   var b1xx = b1x.innerText;
   // close modal search
   var modalsearch = document.getElementById("modalsearch");
   modalsearch.style.display = "none";
   displayPlayer("Bryan Maddison")
}























var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS9sLu7AkLzC7o-dwSrdLqb2E4armqYZ6fYKOMXYmLS-XoL7etIUeis2ZhdG3G_iIEokkAyYfrxB2do/pub?gid=0&single=true&output=csv';


function init() {
Papa.parse(public_spreadsheet_url, {
	download: true,
    header: true,
    complete: showInfo
});
}

window.addEventListener('DOMContentLoaded', init)

function showInfo(results) {
    var datax = results.data

for (i = 0; i < datax.length; i++) { 
        
    if ( datax[i].Name == "Dale Aitkenhead" ) { 
      var meinfo = "hcp not found .."  
      meinfo = datax[i].Name + " your handicap is " + datax[i].Handicap + " (Lakes " + datax[i].Lakes + ", Dawson " + datax[i].Dawson + ")";  
      alert(datax[i].Dawson)
      localStorage.setItem("LakesHCP",datax[i].Lakes.toString());
      localStorage.setItem("DawsonHCP",datax[i].Dawson.toString());
            
    }  
        
} 
    
document.getElementById("me1").innerHTML = "<strong>" + meinfo + "</strong>";
   
}
























</script>
</body>

</html>

