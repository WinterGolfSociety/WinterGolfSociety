<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Winter2022-2023</title>
    <style>
      // set all elements to include borders etc.   
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        -webkit-box-sizing: border-box;
      }

      html {
        background: #726b5e;
        background-image: url('golfergray.png');
        background-repeat: no-repeat;
        background-size: cover;
      }

      body {
        font-family: sans-serif;
        margin: 0;
        padding: 10px;
        color: white;
      }

      .dropdownMenu {
        background-color: rgba(30, 144, 255, 0.9);
        color: white;
        text-align: left;
        text-decoration: none;
        display: inline-block;
        font-size: 3vmax;
        cursor: pointer;
        height: 12vw;
        width: 40vw;
        box-shadow: 10px 10px 25px black;
        white-space: nowrap;
        list-style: none;
        border-radius: 15px;
        padding-left: 5px;
        padding-bottom: 10px;
        font-size: 3vmax;
        color: white;
        width: 40vw;
        margin-bottom: 5px;
        padding-left: 10px;
        border-radius: 15px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        box-shadow: 10px 10px 25px black;
        background-clip: padding-box;
      }

      .dropdownMenu li {
        position: relative;
      }

      .dropdownMenu li a {
        display: block;
        padding-top: 10%;
        padding-bottom: 10%;
        height: 6vmax;
        color: white;
        cursor: pointer;
        text-decoration: none;
      }

      .dropdownMenu li ul {
        position: absolute;
        margin: 0;
        padding: 0;
        list-style: none;
        width: 100%;
        left: 0;
        opacity: 0;
        visibility: hidden;
        -webkit-transition: all 1.5s ease;
        -o-transition: all 1.5s ease;
        transition: all 1.5s ease;
        height: 6vmax;
      }

      .dropdownMenu li ul li a {
        height: 6vmax;
        line-height: 25px;
        color: dodgerBlue; //darkSlateGray;
      }

      .dropdownMenu li ul li a:hover {
        background-color: lightGray; //gray;
        color: white;
        height: 6vmax;
      }

      .dropdownMenu li:hover>ul {
        opacity: 1;
        visibility: visible;
      }

      .dropdownMenu li:hover>a {
        color: silver; // after menu shows
      }

      .atitle {
        font-size: 8vmax;
        text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
      }

      .xxmodalsearch,
      .amodalWhatsNew {
        display: none;
        position: fixed;
        z-index: 1;
        padding-top: 50vmax;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: dodgerBlue;
        background-color: rgba(0, 0, 0, 0.4);
      }

      .xxmodalsearch-content,
      .amodalWhatsNew-content {
        background-color: rgba(30, 144, 255, 0.9); //dodgerBlue;
        margin: 10px;
        padding: 10px;
        width: 80%;
        font-size: 3vmax;
        box-shadow: 10px 10px 25px black;
        border-radius: 15px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        background-clip: padding-box;
      }

      .close {
        color: #aaaaaa;
        float: right;
        font-size: 6vmax;
        font-weight: bold;
      }

      .close:hover,
      .close:focus {
        color: #000;
        text-decoration: none;
        cursor: pointer;
      }

      #txt,
      #txt1,
      #txt2,
      #txt3,
      #txt4,
      #txt5,
      #txt6 {
        color: white;
        font-size: 3vmax;
        -webkit-transition: all 2s ease;
        -o-transition: all 2s ease;
        transition: all 2s ease;
        text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
      }

      #ap-WhatsNew-content {
        color: white;
        font-size: 3vmax;
        text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
      }

      #menuItems {
        font-size: 3vmax;
        color: white;
        background-color: rgba(63, 255, 106, 0.7);
        height: 25px;
        width: 40vw;
        margin-bottom: 5px;
        padding-left: 10px;
        border-radius: 15px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        box-shadow: 10px 10px 25px black;
        background-clip: padding-box;
      }

      #menuItems:hover {
        background-color: rgba(30, 144, 255, 0.9); //dodgerBlue;
      }

      #myInputold {
        color: white;
        background: dodgerBlue;
        border: 2px solid white;
        width: 50%;
        font-size: 3vmax;
        list-style-type: none;
        padding: 0;
        margin: 0;
        padding: 2px 12px 2px 12px; //t,r,b,l
        outline: none;
      }

      #myinputold:focus {
        background-color: lightblue;
        list-style-type: none;
        padding: 0;
        margin: 0;
        display: none;
        border: 2px solid cyan;
      }

      #myinputold:selected {
        border: 2px solid cyan;
      }

      #myULold {
        list-style-type: none;
        padding: 0;
        margin: 0;
        display: none;
      }

      #myULold li a {
        border: 1px solid white;
        margin-top: -1px;
        /* Prevent double borders */
        background-color: #f6f6f6;
        padding: 12px;
        text-decoration: none;
        font-size: 4vmax;
        color: black;
        display: block
      }

      #myULold li a:hover:not(.header) {
        background-color: #eee;
      }

      #myAold {
        margin-top: -1px;
        /* Prevent double borders */
        padding: 2px 12px 2px 0px; //t,r,b,l
        text-decoration: none;
        font-size: 3vmax;
        color: white;
        display: block background: dodgerBlue;
        width: 50%;
      }

      .modalsearch {
        display: none;
        position: fixed;
        z-index: 1;
        padding-top: 100px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: dodgerBlue;
        background-color: rgba(0, 0, 0, 0.4);
      }

      .modalsearch-content {
        background-color: rgba(30, 144, 255, 0.9); //dodgerBlue;
        margin: auto;
        padding: 20px;
        height: 50%;
        width: 80%;
        font-size: 3vmax;
        box-shadow: 10px 10px 25px black;
        border-radius: 15px;
        border: 3px solid rgba(255, 255, 255, 0.2);
      }

      #closemenubutton {
        background-color: rgba(30, 144, 255, 0.9); //dodgerBlue;
        color: white;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 3vmax;
        margin: 4px 2px;
        cursor: pointer;
        height: 25vmin;
        width: 25vmin;
        border-radius: 50%;
        box-shadow: 10px 10px 25px black;
        visibility: hidden;
        border: 3px solid rgba(255, 255, 255, 0.2);
        background-clip: padding-box;
      }

      #menubutton1 {
        width: 50vmax;
        text-align: center;
        color: white;
        background: dodgerblue;
        font-size: 3vmax;
        box-shadow: 10px 10px 25px black;
        border-radius: 15px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        width: 60%;
        color: white;
        background: dodgerblue;
        font-size: 3vw;
        padding: 10px;
        border-radius: 15px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        box-shadow: 10px 10px 25px black;
        margin-left: 20%;
        margin-bottom: 100%;
        background-clip: padding-box;
      }

      .menucontainer {
        display: grid;
        grid-template-columns: auto 30%;
        height: 150%;
      }

      #who {
        font-size: 4vw;
      }

      #spacer {
        height: 75vh;
      }

      #myInputold {
        color: white;
        background: dodgerBlue;
        border: 2px solid white;
        width: 90%;
        font-size: 5vw;
        list-style-type: none;
        padding: 2px 12px 2px 12px; //t,r,b,l
        outline: none;
      }

      #myinputold:focus {
        background-color: lightblue;
        list-style-type: none;
        display: none;
        border: 2px solid cyan;
      }

      #myinputold:selected {
        border: 2px solid cyan;
      }

      #myULold {
        list-style-type: none;
        padding: 0;
        margin: 0;
        display: none;
      }

      #myULold li a {
        border: 1px solid white;
        margin-top: -1px;
        /* Prevent double borders */
        background-color: #f6f6f6;
        padding: 12px;
        text-decoration: none;
        font-size: 5vw;
        color: black;
        display: block
      }

      #myULold li a:hover:not(.header) {
        background-color: #eee;
      }

      .xxmodalsearch {
        display: none;
        margin: auto;
        padding: 5vw;
        width: 90%;
        font-size: 5vw;
      }

      .xxmodalsearch-content {
        background-color: dodgerBlue;
        margin: auto;
        padding: 5vw;
        border: 1px solid #888;
        width: 85%;
        font-size: 5vw;
        border-radius: 15px;
        border: 5px solid rgba(255, 255, 255, 0.2);
        box-shadow: 10px 10px 25px black;
      }

      #myAold {
        width: 60%;
        color: white;
        background: dodgerblue;
        font-size: 5vw;
        padding: 10px;
        border-radius: 15px;
        border: 5px solid rgba(255, 255, 255, 0.2);
        box-shadow: 10px 10px 25px black;
        margin-left: 20%;
        margin-bottom: 5%;
      }

      ::placeholder {
        /* Chrome, Firefox, Opera, Safari 10.1+ */
        color: lightGray;
        opacity: 1;
        /* Firefox */
      }

      :-ms-input-placeholder {
        /* Internet Explorer 10-11 */
        color: lightGray;
      }

      ::-ms-input-placeholder {
        /* Microsoft Edge */
        color: lightGray;
      }
    </style>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
    <meta name="description" content="Winter Golf Society" />
    <meta name="author" content="Bryan M" />
    <title>Winter Golf Society</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js"></script>
  </head>
  <body>
    <div id="amodalWhatsNew" class="amodalWhatsNew">
      <div class="amodalWhatsNew-content">
        <span class="close">&times;</span>
        <p id="ap-WhatsNew-content">Whats new .. <br>
          <br>- score input changed. Allows checking prior to submit. <br>
        </p>
      </div>
    </div>
    <div id="xxmodalsearch" class="xxmodalsearch">
      <div class="xxmodalsearch-content">
        <span class="close" id="closex">&times;</span> To change player, use text to search .. select the button to accept. <br>
        <br>
        <input type="text" id="myInputold" onkeyup="myFunctionx()" placeholder="enter name to search for">
        <br>
        <ul id="myULold">
          <li>
            <a>empty</a>
          </li>
        </ul>
        <br>
        <button id="myAold" onclick="b1button()"></button>
        <br>
        <br>
      </div>
    </div>
    <br>
    <div class="menucontainer">
      <div class="menucontainerItem1">
        <div class="atitle">Winter</div>
      </div>
      <div class="menucontainerItem2">
        <a id="who">unknown</a>
      </div>
    </div>
    <div class="menucontainer">
      <div class="menucontainerItem1">
        <div class="atitle">Golf</div>
      </div>
      <div class="menucontainerItem2">
        <a id="gethcp">
          <input type='image' id="buttonrefresh" width='45vw' height='40vw' src="avatar.png" onclick="init()" />
        </a>
      </div>
    </div>
    <div class="menucontainer">
      <div class="menucontainerItem1">
        <div class="atitle">Society</div>
      </div>
      <div class="menucontainerItem2">
        <input type='image' id='buttonCalendar' src='agenda.png' width='45vw' height='40vw' onclick='weeknumber()'>
      </div>
    </div>
    <div class="menucontainer">
      <div class="menucontainerItem1">
        <!-- menu -->
        <ul class="dropdownMenu" onmouseover="vanish()" onmouseout="unvanish()">
          <li>
            <a href="#">show menu</a>
            <ul>
              <!-- score entry -->
              <li>
                <a href="scoreinputtestX1.html" id="menuItems">score entry</a>
              </li>
              <!-- results, with historic below ? -->
              <li>
                <a href="javascript:allresults()" id="menuItems">results</a>
              </li>
              <!-- player info, default to user
              <li>
                <a href="javascript:testsmod()" id="menuItems">player info</a>
              </li>
               -->
              <!-- hcp list -->
              <li>
                <a href="javascript:hcplist()" id="menuItems">hcp list</a>
              </li>
              <!-- twos -->
              <li>
                <a href="javascript:twos()" id="menuItems">twos</a>
              </li>
              <!-- my info -->
              <li>
                <a href="javascript:myInfo()" id="menuItems">my info</a>
              </li>
              <!-- change user -->
              <li>
                <!--change to run function
                   function should refresh name after changed-->
                <a href="javascript:testswap()" id="menuItems">swap player</a>
              </li>
              <!-- test 
              <li>
                <a href="firstSetup.html" id="menuItems">test</a>
              </li>
              -->
            </ul>
          </li>
        </ul>
      </div>
      <div class="menucontainerItem2">
        <br>
        <a id="myAtest"></a>
        <button id="closemenubutton"></button>
      </div>
    </div>
    <div class="menucontainer">
      <div class="menucontainerItem1">
        <p id="txt1"></p>
        <p id="txt2"></p>
        <p id="txt3"></p>
        <p id="txt4"></p>
        <p id="txt5"></p>
        <p id="txt6"></p>
      </div>
      <div class="menucontainerItem2"></div>
    </div>
    <br>
    <br>
    <div id="modalsearch" class="modalsearch">
      <div class="modalsearch-content">
        <span class="close" id="closeplayersearch">&times;</span> Search for player <br>
        <br>
        <input type="text" id="myInputold" onkeyup="myFunctionx()" placeholder="none">
        <br>
        <br>
        <ul id="myULold">
          <li>
            <a>empty</a>
          </li>
        </ul>
        <a id="myAold">none</a>found .. <br>
        <br>
        <button id="menubutton1" onclick="b1button()">show info</button>
      </div>
    </div>
    <div id="spacer"></div>
    <script>
      // close by click the player info  
      var modalsearchx = document.getElementById("modalsearch");
      modalsearchx.onclick = function(event) {
        modalsearchx.style.display = "none";
      }
      
      if (document.readyState == 'loading') {
        // still loading, wait for the event
        document.addEventListener('DOMContentLoaded', weeknumber());
      } else {
        // DOM is ready
        weeknumber();
      }
      if ("playerName" in localStorage) {
        pwho = localStorage.getItem("playerName").replace(" ", "<br>");
          document.getElementById("who").innerHTML = pwho
        }
        else {
          document.getElementById("who").innerHTML = "unknown"
        }
        var arr = ["dummy", "Graham Airey", "Dale Aitkenhead", "Stephen Alldridge", "Keith Belshaw", "Stewart Brodie", "Andy Davison", "Peter Holleran", "Bryan Maddison", ]
        var x = ""
        // build values to search
        for (var ii = 0; ii < arr.length; ii++) {
          x = x + ' <li><p>' + arr[ii] + '</p></li>'
        }
        input = document.getElementById("myULold");
        input.innerHTML = x
        var hcpchecker1 = document.getElementById("amodalWhatsNew");
        var span0 = document.getElementsByClassName("close")[0];
        hcpchecker1.onclick = function() {
          hcpchecker1.style.display = "none";
        }
        var modalsearch = document.getElementById("modalsearch");
        window.onclick = function(event) {
          if (event.target == modalsearch) {
            modalsearch.style.display = "none";
          }
        }
        // hcp list from 2022
        var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pub?gid=1210420478&single=true&output=csv';
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
 getStorageInfo()       
        
 
  
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        //============= functions =================
        
        function myInfo() {
           // cope with each user
           // id's
           //
           
           // messy,sort out if time
           var pname=localStorage.getItem("playerName")
           
           
           
            var me1 = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid="
            
            var me2 = "&single=true"
            alert("==" + pname + "==")
            
            
            // 2d array
            /*
            let items = [
            [1, 2],
            [3, 4],
            [5, 6]
            ];
            console.log(items[0][0]); // 1
            console.log(items[0][1]); // 2
            console.log(items[1][0]); // 3
            console.log(items[1][1]); // 4
            console.log(items);
            */
           
            let pages = [
               ["Bryan Maddxison", "01796067805"],
               ["Bryan Maxddison", "01796067805"],
               ["Bryan Maddison", "1796067805"],
               ["Bryan Maddisoxn", "01796067805"],
               ];
           
            
            for (var i = 0; i < pages.length; i++) {
               //alert(i + "pages[i][x]" + pages[i][0])
               if (pages[i][0].indexOf(pname) > -1) {
                  meid = pages[i][1]               
                  alert("meid=" + meid)
                  var meall = me1 + meid + me2
                  window.open(meall)
               }
            }
            
            
            
            
            
            
            
            
            
          //  meall="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1796067805&single=true"
           alert(meall) 
            window.open(meall)
            
        }
        
        
        function weeknumber() {
          // check if already there
          var checkline = document.getElementById("txt1").innerText
          if (checkline.indexOf("Friday") > -1) {
            document.getElementById("txt1").innerHTML = "<p style='visibility:hidden'>.</p>"  
            document.getElementById("txt2").innerHTML = "<p style='visibility:hidden'>.</p>"
            document.getElementById("txt3").innerHTML = "<p style='visibility:hidden'>.</p>"
            document.getElementById("txt4").innerHTML = "<p style='visibility:hidden'>.</p>"
            document.getElementById("txt5").innerHTML = "<p style='visibility:hidden'>.</p>"
            document.getElementById("txt6").innerHTML = "<p style='visibility:hidden'>.</p>"
          } else {
            currentdate = new Date();
            var oneJan = new Date(currentdate.getFullYear(), 0, 1);
            var numberOfDays = Math.floor((currentdate - oneJan) / (24 * 60 * 60 * 1000));
            var result = Math.ceil((currentdate.getDay() + 1 + numberOfDays) / 7);
            var diary = ["Friday 7th Oct Lakes", "Friday 14th Oct Lakes", "Friday 21st Oct Lakes", "Friday 28th Oct Lakes", "Friday 7th Oct Lakes", "Friday 7th Oct Lakes", "Friday 14th Oct Lakes", "Friday 21st Oct Lakes", "Friday 28th Oct Lakes", "Friday 4th Nov Dawson", "Friday 11th Nov Dawson", "Friday 18th Nov Dawson", "Friday 25th Nov Dawson", "Friday 2nd Dec Lakes", "Friday 9th Dec Lakes"]
            var x1 = document.getElementById("txt1");
            var x2 = document.getElementById("txt2");
            var x3 = document.getElementById("txt3");
            var x4 = document.getElementById("txt4");
            var x5 = document.getElementById("txt5");
            var x6 = document.getElementById("txt6");
            x1.innerText = diary[result - 35]
            x2.innerText = diary[result - 34]
            x3.innerText = diary[result - 33]
            x4.innerText = diary[result - 32]
            x5.innerText = diary[result - 31]
            x6.innerText = diary[result - 30]
          }
        }

        function hcplist() {
          let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=0,height=0,left=-1000,top=-1000`;
          window.open("https://docs.google.com/spreadsheets/u/3/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1210420478&single=true", "hcplist", params)
        }

        function allresults() {
          let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=0,height=0,left=-1000,top=-1000`;
          window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=612102443&single=true", "allresults", params)
        }

        function twos() {
          let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=0,height=0,left=-1000,top=-1000`;
          window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1266484079&single=true", "twos", params)
        }

        function displayPlayer(xvalue) {
          if (xvalue == "Bryan Maddison") {
            window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1796067805&single=true");
          }
          if (xvalue !== "Bryan Maddison") {
            // tony smith
            window.open("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pubhtml?gid=1288506359&single=true");
          }
        }

        function vanish() {
          var x = document.getElementById("txt1");
          x.style.color = "#70695c"; //sepia type text
          var x = document.getElementById("txt2");
          x.style.color = "#70695c"; //sepia type text
          var x = document.getElementById("txt3");
          x.style.color = "#70695c"; //sepia type text
          var x = document.getElementById("txt4");
          x.style.color = "#70695c"; //sepia type text
          var x = document.getElementById("txt5");
          x.style.color = "#70695c"; //sepia type text
          var x = document.getElementById("txt6");
          x.style.color = "#70695c"; //sepia type text
          var x = document.getElementById("closemenubutton");
          x.innerText = "close menu"
          x.style.visibility = "visible";
        }

        function unvanish() {
          var x = document.getElementById("txt1");
          x.style.color = "white";
          var x = document.getElementById("txt2");
          x.style.color = "white";
          var x = document.getElementById("txt3");
          x.style.color = "white";
          var x = document.getElementById("txt4");
          x.style.color = "white";
          var x = document.getElementById("txt5");
          x.style.color = "white";
          var x = document.getElementById("txt6");
          x.style.color = "white";
          var x = document.getElementById("closemenubutton");
          x.innerText = "close menu"
          x.style.visibility = "hidden";
        }

        function testsmod() {
          input = document.getElementById("modalsearch");
          input.style.display = 'block';
          inputfocus = document.getElementById("myInputold");
          inputfocus.focus();
        }

        function myFunctionx() {
          var input, filter, ul, li, a, i, txtValue;
          input = document.getElementById("myInputold");
          if (input.value == "") {
            xx = document.getElementById("myAold");
            xx.innerText = "none"
          } else {
            filter = input.value.toUpperCase();
            ul = document.getElementById("myULold");
            li = ul.getElementsByTagName("li");
            for (i = 0; i < li.length; i++) {
              a = li[i].getElementsByTagName("p")[0];
              txtValue = a.textContent || a.innerText;
              if (txtValue.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
                xx = document.getElementById("myAold");
                xx.innerText = txtValue
              } else {
                li[i].style.display = "none";
              }
            }
          }
        }

        function b1button() {
          var b1x = document.getElementById("myAold");
          var b1xx = b1x.innerText;
          // close modal search
          var modalsearch = document.getElementById("xxmodalsearch");
          modalsearch.style.display = "none";
          displayPlayer("Bryan Maddison")
        }

        function getStorageInfo() {
          var eye = 0;
          if ("playerName" in localStorage) {
            varpname = localStorage.getItem("playerName");
          } else {
            eye++
          }
          if ("playerHCP" in localStorage) {
            phcp = localStorage.getItem("playerHCP");
          } else {
            eye++
          }
          if ("LakesHCP" in localStorage) {
            lhcp = localStorage.getItem("LakesHCP");
          } else {
            eye++
          }
          if ("DawsonHCP" in localStorage) {
            dhcp = localStorage.getItem("DawsonHCP");
          } else {
            eye++
          }
          if ("WinterHCP" in localStorage) {
            whcp = localStorage.getItem("WinterHCP");
          } else {
            eye++
          }
          if (eye > 0) {
            alert("running firstSetup")
            //firstSetup()
          }
          
          
          
 alert(varpname)
 alert(phcp(
 alert(dhcp)
 alert(lhcp)
 alert(whcp)     
  
          
          
          
          
        }

        function init() {
          document.getElementById("amodalWhatsNew").style.display = "block";
          document.getElementById("ap-WhatsNew-content").innerText = "searching for hcp info .."
          Papa.parse(public_spreadsheet_url, {
            download: true,
            header: true,
            complete: showInfox
          });
        }

        function showInfox(results) {
          if ("playerName" in localStorage) {
            var pname = localStorage.getItem("playerName");
          } else {
            alert('no playerName');
          }
          var datax = results.data
          for (i = 0; i < datax.length; i++) {
            if (datax[i].Name == pname) {
              var meinfo = "hcp not found .."
              meinfo = datax[i].Name + "  <br> Hcp index: " + 
                         datax[i].Handicap + " <br> Lakes hcp: " + 
                         parseInt(datax[i].Lakes) + " <br> Dawson hcp: " +
                         parseInt(datax[i].Dawson)  + " <br> Winter hcp: " +
                         parseInt(datax[i].Winter);
              localStorage.setItem("playerName", datax[i].Name.toString());
              localStorage.setItem("playerHCP", datax[i].Handicap.toString());
              localStorage.setItem("LakesHCP", datax[i].Lakes.toString());
              localStorage.setItem("DawsonHCP", datax[i].Dawson.toString());
              localStorage.setItem("WinterHCP", datax[i].Winter.toString());
              
              
              //alert(datax[i].Winter.toString())
              
              
              
              document.getElementById("ap-WhatsNew-content").innerHTML = meinfo;
              document.getElementById("who").innerHTML = pname.replace(" ", "<br>");
              }
            }
            if ("playerName" in localStorage) {
              var xpname = localStorage.getItem("playerName");
            } else {
              var xpname = "nobody"
            }
            if ("playerHCP" in localStorage) {
              var xphcp = localStorage.getItem("playerHCP");
            } else {
              var xphcp = "nothing"
            }
            if ("LakesHCP" in localStorage) {
              var xplakeshcp = localStorage.getItem("LakesHCP");
            } else {
              var xplakeshcp = "nothing"
            }
            if ("DawsonHCP" in localStorage) {
              var xpdawsonhcp = localStorage.getItem("DawsonHCP");
            } else {
              var xpdawsonhcp = "nothing"
            }
            if ("WinterHCP" in localStorage) {
              var xpwinterhcp = localStorage.getItem("WinterHCP");
            } else {
              var xpwinterhcp = "nothing"
            }
          }

          function firstSetup() {
            alert("firstSetup")
            localStorage.setItem("playerName", "Dale Aitkenhead");
          }
          // non function() code so runs ..
          // close by click the player info  
          var xxclosex = document.getElementById("closex");
          var xxmodalsearchx = document.getElementById("xxmodalsearch");
          xxclosex.onclick = function(event) {
            xxclosex.style.display = "none";
            xxmodalsearchx.style.display = "none";
          }
          vplayer = localStorage.getItem("playerName");
          vhcp = localStorage.getItem("playerHCP");
          input = document.getElementById("myAold").innerText = vplayer
          var arr = ["dummy", "Graham Airey", "Dale Aitkenhead", "Stephen Alldridge", "Keith Belshaw", "Stewart Brodie", "Andy Davison", "Peter Holleran", "Bryan Maddison", ]
          var x = ""
          // build values to search
          for (var ii = 0; ii < arr.length; ii++) {
            x = x + ' <li><p> ' + arr[ii] + ' </p></li>' 
          }
          input = document.getElementById("myULold");
          input.innerHTML = x
          span1.onclick = function() {
            modalsearch.style.display = "none";
          }
          var modalsearch = document.getElementById("xxmodalsearch");
          var btnsearch = document.getElementById("myBtnsearch");
          var psearch = document.getElementById("myPsearch");
          window.onclick = function(event) {
            if (event.target == modalsearch) {
              modalsearch.style.display = "none";
            }
          }

          function testswap() {
            swapp = document.getElementById("xxmodalsearch");
            swapp.style.display = "block"
          }

          function myFunctionx() {
            var input, filter, ul, li, a, i, txtValue;
            input = document.getElementById("myInputold");
            if (input.value == "") {
              xx = document.getElementById("myAold");
              xx.innerText = "none"
            } else {
              filter = input.value.toUpperCase();
              ul = document.getElementById("myULold");
              li = ul.getElementsByTagName("li");
              for (i = 0; i < li.length; i++) {
                a = li[i].getElementsByTagName("p")[0];
                txtValue = a.textContent || a.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  li[i].style.display = "";
                  xx = document.getElementById("myAold");
                  xx.innerText = txtValue
                } else {
                  li[i].style.display = "none";
                }
              }
            }
          }

          function b1button() {
            x = document.getElementById("myAold").innerText;
            alert(x)
            if ("playerName" in localStorage) {
              var playerNameretrieved = localStorage.getItem("playerName");
            } else {
              alert('no player dawson hcp');
            }
            localStorage.setItem("playerName", x);
            alert(playerNameretrieved + " replaced with " + x)
            // need to retrieve hcp and store etc.
            // hcp list from 2022
            var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6uC1a56s8y7f8cNG5JTctOdxFz8g0QyLqO3E8ha6LqCsipS2IRTmVcT-oJfkDsXhyeE0PVRgCjyh8/pub?gid=1210420478&single=true&output=csv';
            Papa.parse(public_spreadsheet_url, {
              download: true,
              header: true,
              complete: showInfoxx(x)
            });
          }

          function showInfoxx(results, pname) {
            var datax = results.data
            //search google sheets for info
            for (i = 0; i < datax.length; i++) {
              if (datax[i].Name == pname) {
                var meinfo = "hcp not found .."
                meinfo = datax[i].Name + "  <br> Hcp index: " + 
                         datax[i].Handicap + " <br> Lakes hcp: " + 
                         parseInt(datax[i].Lakes) + " <br> Dawson hcp: " +
                         parseInt(datax[i].Dawson)  + " <br> Winter hcp: " +
                         parseInt(datax[i].Winter);
                // add player hcp details here
                localStorage.setItem("playerName", datax[i].Name.toString());
                localStorage.setItem("playerHCP", datax[i].Handicap.toString());
                localStorage.setItem("LakesHCP", datax[i].Lakes.toString());
                localStorage.setItem("DawsonHCP", datax[i].Dawson.toString());
                localStorage.setItem("WinterHCP", datax[i].Winter.toString());
              }
            }
            localStorage.setItem("playerHCP", x);
          }
    </script>
  </body>
</html>
