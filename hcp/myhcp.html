<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="ie=edge" http-equiv="X-UA-Compatible">
	<meta content="Bryan M" name="author">
	<title>hcp calc</title>
	<link href="favicon.ico" rel="icon" type="image/x-icon">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<style>
	body {
		height: 100vh;
		background-color: Gray;
		background-attachment: fixed;
		font-family: 'arial';
		color: white;
		text-align: center;
	}
	
	.stxt {
		text-align: center;
		font-size: 20px;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
	}
	
	.tstxt {
		text-align: center;
		font-size: 20px;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
	}
	
	h2,
	.dropbtn {
		text-align: center;
		padding-top: 1%;
		padding-bottom: 1%;
		color: white;
		font-size: 30px;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
		border-radius: 10px;
		border: 3px solid rgba(255, 255, 255, 0.2);
		box-shadow: 10px 10px 25px black;
		background-clip: padding-box;
		font-weight: 400;
		background-color: rgba(0, 0, 0, 0.2);
	}
	
	#nslope1,
	#nslope2,
	#nslope3,
	#nslope4,
	#ncr1,
	#ncr2,
	#ncr3,
	#ncr4,
	#npar1,
	#npar2,
	#npar3,
	#npar4,
	#nhcpallowance,
	#nhcp1,
	#nhcp2,
	#nhcp3,
	#nhcp4 {
		font-size: 30px;
		color: white;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
		background-color: dodgerBlue;
		text-align: center;
		border-radius: 10px;
		border: 3px solid rgba(255, 255, 255, 0.2);
		box-shadow: 10px 10px 25px black;
		background-clip: padding-box;
		width: 40vw;
	}
	
	#nslope2,
	#ncr2,
	#npar2,
	#nhcp2 {
		background-color: mediumSeaGreen;
	}
	
	#nslope3,
	#ncr3,
	#npar3,
	#nhcp3 {
		background-color: steelBlue;
	}
	
	#nslope4,
	#ncr4,
	#npar4,
	#nhcp4 {
		background-color: rebeccaPurple;
	}
	
	.score {
		font-size: 25px;
		color: white;
		background-color: dodgerBlue;
		text-align: center;
		padding-top: 5px;
		padding-bottom: 5px;
		border: 3px solid rgba(255, 255, 255, 0.2);
		border-radius: 10px;
		box-shadow: 10px 10px 25px black;
		background-clip: padding-box;
	}
	
	#splayinghcp1 {
		background-color: dodgerBlue;
	}
	
	#splayinghcp2 {
		background-color: mediumSeaGreen;
	}
	
	#splayinghcp3 {
		background-color: steelBlue;
	}
	
	#splayinghcp4 {
		background-color: rebeccaPurple;
	}
	
	#splayinghcpcalc,
	#txt {
		font-size: 20px;
		color: white;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
	}
	
	#showcalcs {
		visibility: hidden;
		font-size: 13px;
		text-align: left;
		position: fixed;
		z-index: 1;
		padding-top: 10px;
		padding-left: 5px;
		padding-bottom: 5px;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: scroll;
		background-color: dodgerBlue;
		background-color: rgba(0, 0, 0, 0.7);
	}
	
	#buttonshowcalcs {
	        width: 100%;
		font-size: 30px;
		color: white;
		padding: 10px;
		background-color: rgba(0, 0, 0, 0.2);
		text-align: center;
		border: 3px solid rgba(255, 255, 255, 0.2);
		border-radius: 10px;
		box-shadow: 10px 10px 25px black;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
		background-clip: padding-box;
	}
	
	#footnote {
		color: white;
		font-size: 15px;
		font-style: italic;
		padding-left: 10px;
	}
	
	#xclose {
		color: lightgray;
		text-align: center;
		font-size: 15px;
		font-style: italic;
	}
	
	.yellow {
		color: yellow;
	}
	
	.dropdown {
		position: relative;
		display: inline-block;
	}
	
	.dropdown-content {
		display: none;
		position: absolute;
		background-color: whiteSmoke;
		min-width: 160px;
		overflow: auto;
		box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
		z-index: 1;
		border-radius: 5px;
		box-shadow: 10px 10px 25px black;
		max-height: 75vh;
	}
	
	.dropdown-content a {
		font-family: Arial, Helvetica, sans-serif;
		color: gray;
		padding: 10px 16px;
		text-decoration: none;
		display: block;
		font-size: 4vh;
		border: 1px solid silver;
	}
	
	.show {
		display: block;
	}
	
	#teecolor1
	 {
		display: inline;
		font-size: 20px;
		color: gray;
		text-shadow: 0px 4px 3px rgba(0, 0, 0, 0.4), 0px 8px 13px rgba(0, 0, 0, 0.1), 0px 18px 23px rgba(0, 0, 0, 0.1);
		background-color: rgba(0, 0, 0, 0.2);
		text-align: center;
		border-radius: 50%; //10px;
		border: 3px solid rgba(255, 255, 255, 0.2);
		box-shadow: 10px 10px 25px black;
		background-clip: padding-box;
		margin-left: 2vw;
		width: 40px;
		height: 40px;
	}
	
	.xxbox {
		background-color: rgba(0, 0, 0, 0.2);
		border: 1px solid rgba(255, 255, 255, 0.2);
	}
	
	.xxouterbox {
		border: 3px solid rgba(255, 255, 255, 0.2);
		border-radius: 10px;
		box-shadow: 10px 10px 25px black;
		background-clip: padding-box;
	}
	</style>
</head>


<body>
	<div onclick="toggleDropdown();" class="dropbtn" id="dropbtn">select course</div>
	<div id="playersDropdown" class="dropdown-content">
 <a id="myLink1" href="#" onclick='dropSelected(this.innerText);return false;'>Longhirst Dawson</a>
 <a id="myLink2" href="#" onclick='dropSelected(this.innerText);return false;'>Longhirst Lakes</a>
 <a id="myLink3" href="#" onclick='dropSelected(this.innerText);return false;'>Bellingham</a>
 <a id="myLink4" href="#" onclick='dropSelected(this.innerText);return false;'>Blyth</a>
 <a id="myLink5" href="#" onclick='dropSelected(this.innerText);return false;'>Foxton</a>
 <a id="myLink6" href="#" onclick='dropSelected(this.innerText);return false;'>High Gosforth Park</a>
 <a id="myLink7" href="#" onclick='dropSelected(this.innerText);return false;'>Morpeth</a>
 <a id="myLink8" href="#" onclick='dropSelected(this.innerText);return false;'>Newbiggin</a>
 <a id="myLink9" href="#" onclick='dropSelected(this.innerText);return false;'>Rothbury</a>
 <a id="myLink10" href="#" onclick='dropSelected(this.innerText);return false;'>South Shields</a>
 <a id="myLink11" href="#" onclick='dropSelected(this.innerText);return false;'>Stocksfield</a>
 <a id="myLink12" href="#" onclick='dropSelected(this.innerText);return false;'>Warkworth</a>
 <a id="myLink13" href="#" onclick='dropSelected(this.innerText);return false;'>Not defined</a>	
	
	
	
		<!--
<a id="myLink9" href="#" onclick='dropSelected(this.innerText);return false;'>Ray</a>
<a id="myLink10" href="#" onclick='dropSelected(this.innerText);return false;'>Gus</a>
--></div>
	
	<div class="row">
		<div class="col-md-12  text-center">
			
			<div class="container">
			   <div class="outerbox">
				<div class="box">
					<br>
					<div class="tstxt">tee colour
						<div id="teecolor1" onclick="changetee(this.id)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
					</div>
					<br>
					<div class="demo">
						<div class="stxt">WHS handicap index</div>
						<input type="number" id="nhcp1" name="nhcp1" min="0" max="50" maxlength="3" step="0.1" oninput="updatehcp()"> 
					</div>
					<br>
					<div class="stxt">slope</div>
					<div class="demo">
						<input type="number" id="nslope1" name="nslope1" min="100" max="150" maxlength="3" step="1" oninput="updatehcpMaster()">
					</div>
					<br>
					<div class="stxt">course rating</div>
					<div class="demo">
						<input type="number" id="ncr1" name="ncr1" min="60" max="80" maxlength="3" step="0.1" oninput="updatehcpMaster()">
					</div>
					<br>
					<div class="stxt">par</div>
					<div class="demo">
						<input type="number" id="npar1" name="npar1" min="60" max="80" maxlength="2" step="1" oninput="updatehcpMaster()">
					</div>
					<br>
				</div>
				
				
				
				
				
				
					
				</div>
				</div> <!-- outerbox -->
				
			
				<div id="txt">
					
					<div id="splayinghcp1" class="score">
						course hcp
						<br>playing hcp
						<br>rounded playing hcp </div>
					
				
				
				        
				</div>
			</div>
		</div>
	
		
		<script>
		var slope;
		var cr;
		var par;
		var globalcourse;
		// name, yellow slope, yellow cr, yellow par, red slope, red cr, red par
		arrCourses = [
			["Longhirst Dawson",   120, 71.1, 73, 121, 72.5, 73],
			["Longhirst Lakes",    116, 67.6, 70, 117, 69.1, 70],
			["Bellingham",         125, 69.1, 70, 122, 71.6, 71],
			["Blyth",              128, 68.1, 70, 122, 69.6, 71],
			["Foxton",             129, 69.9, 71, 135, 73.8, 74],
			["High Gosforth Park", 130, 60.3, 71, 135, 73.1, 73],
			["Morpeth",            120, 68.7, 71, 130, 73.4, 73],
			["Newbiggin",          130, 70.9, 72, 133, 73.7, 73],
			["Rothbury",           121, 67.5, 71, 128, 71.2, 73],
			["South Shields",      121, 69.5, 71, 126, 74.1, 74],
			["Stocksfield",        124, 67.7, 70, 131, 72.0, 72],
			["Warkworth",          115, 68.3, 70, 119, 70.8, 71],
			["Not Defined",          0,    0,  0,   0,    0,  0]
		]

		

		

		

		function updatehcp() {
			// get 4 players hcp's
			if(document.getElementById("nhcp1").value > 0) {
				// players hcps entered
				document.getElementById("splayinghcp1").style.display = "block";
		
								
				let vhcp1 = document.getElementById("nhcp1").value
		
					// get globals
				let vhcpallowance = 95
				let vslope1 = document.getElementById("nslope1").value
		
				let ncr1 = document.getElementById("ncr1").value
			
				let npar1 = document.getElementById("npar1").value
	
				let vcoursehcp1 = (vhcp1 * (vslope1 / 113)) + (ncr1 - npar1)
				let vcoursehcp1adjusted = (vcoursehcp1 * 0.9); 
				
				
				
				
				document.getElementById("splayinghcp1").innerHTML = 
				
				"course hcp = " + vcoursehcp1.toFixed(4) + "..." +
				"<br>playing hcp = " + vcoursehcp1adjusted.toFixed(4) + "..." +
				"<br>rounded = " + vcoursehcp1adjusted.toFixed();
				
				
			}
		}
		// dropdown
		//=============================================================
		// function toggleDropdown()
		// - show player name choices
		//=============================================================  
		function toggleDropdown() {
			// When the user clicks on the button, toggle between hiding and showing the dropdown content
			document.getElementById("playersDropdown").classList.toggle("show");
		}
		//=====================================================
		// Close the dropdown if the user clicks outside of it
		//=====================================================
		window.onclick = function(event) {
			if(!event.target.matches('.dropbtn')) {
				var dropdowns = document.getElementsByClassName("dropdown-content");
				var i;
				for(i = 0; i < dropdowns.length; i++) {
					var openDropdown = dropdowns[i];
					if(openDropdown.classList.contains('show')) {
						openDropdown.classList.remove('show');
					}
				}
			}
		};
		//===========================
		// name selected, do stuff
		//===========================
		function dropSelected(course) {
			// set a global course var
			globalcourse = course;
			for(var k = 0; k < arrCourses.length; k++) {
				if(arrCourses[k][0] == course) {
					console.log("arrCourse = " + arrCourses[k])
					slope = arrCourses[k][1];
					cr = arrCourses[k][2];
					par = arrCourses[k][3];
					document.getElementById("nslope1").value = arrCourses[k][1];
					document.getElementById("ncr1").value = arrCourses[k][2];
					document.getElementById("npar1").value = arrCourses[k][3];
					//document.getElementById("nslope2").value = arrCourses[k][1];
					//document.getElementById("ncr2").value = arrCourses[k][2];
					//document.getElementById("npar2").value = arrCourses[k][3];
					//document.getElementById("nslope3").value = arrCourses[k][1];
					//document.getElementById("ncr3").value = arrCourses[k][2];
					//document.getElementById("npar3").value = arrCourses[k][3];
					//document.getElementById("nslope4").value = arrCourses[k][1];
					//document.getElementById("ncr4").value = arrCourses[k][2];
					//document.getElementById("npar4").value = arrCourses[k][3];
					// set all tees to yellow
					document.getElementById("teecolor1").style.background = "yellow"
					//document.getElementById("teecolor2").style.background = "yellow"
					//document.getElementById("teecolor3").style.background = "yellow"
					//document.getElementById("teecolor4").style.background = "yellow"
					updatehcp();
				}
			}
			document.getElementById("dropbtn").innerText = course;
			// replace button text
			// close dropdown
			var dropdowns = document.getElementsByClassName("dropdown-content");
			var i;
			for(i = 0; i < dropdowns.length; i++) {
				var openDropdown = dropdowns[i];
				if(openDropdown.classList.contains('show')) {
					openDropdown.classList.remove('show');
				}
			}
		}

		function changetee(id) {
			//console.log(id)
			// change dot color
			if(document.getElementById(id).style.background == "red") {
				document.getElementById(id).style.background = "yellow"
				document.getElementById(id).style.color = "yellow"
					// insert new slope, cr and par in correct place
				var teenum = id.replace("teecolor", "");
				for(var k = 0; k < arrCourses.length; k++) {
					if(arrCourses[k][0] == globalcourse) {
						document.getElementById("nslope" + teenum).value = arrCourses[k][1];
						document.getElementById("ncr" + teenum).value = arrCourses[k][2];
						document.getElementById("npar" + teenum).value = arrCourses[k][3];
					}
				}
			} else {
				document.getElementById(id).style.background = "red"
				document.getElementById(id).style.background = "red"
					// insert new slope, cr and par in correct place
				var teenum = id.replace("teecolor", "");
				for(var k = 0; k < arrCourses.length; k++) {
					if(arrCourses[k][0] == globalcourse) {
						document.getElementById("nslope" + teenum).value = arrCourses[k][4];
						document.getElementById("ncr" + teenum).value = arrCourses[k][5];
						document.getElementById("npar" + teenum).value = arrCourses[k][6];
					}
				}
			}
			updatehcp()
		}
		</script>
</body>

</html>
